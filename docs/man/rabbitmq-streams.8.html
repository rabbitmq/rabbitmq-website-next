<div class="manual-text">
<h2 class="Sh" title="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h2>
<code class="Nm" title="Nm">rabbitmq-streams</code> &#x2014;
<div class="Nd" title="Nd">RabbitMQ stream management tools</div>
<h2 class="Sh" title="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h2>
<table class="Nm">
  <tr>
    <td><code class="Nm" title="Nm">rabbitmq-streams</code></td>
    <td>[<div class="Op"><code class="Fl" title="Fl">-q</code></div>]
      [<div class="Op"><code class="Fl" title="Fl">-s</code></div>]
      [<div class="Op"><code class="Fl" title="Fl">-l</code></div>]
      [<div class="Op"><code class="Fl" title="Fl">-n</code>
      <var class="Ar" title="Ar">node</var></div>]
      [<div class="Op"><code class="Fl" title="Fl">-t</code>
      <var class="Ar" title="Ar">timeout</var></div>]
      <var class="Ar" title="Ar">command</var>
      [<div class="Op"><var class="Ar" title="Ar">command_options</var></div>]</td>
  </tr>
</table>
<h2 class="Sh" title="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h2>
<code class="Nm" title="Nm">rabbitmq-streams</code> is a command line tool that
  provides commands used to manage streams, for example, add or delete stream
  replicas. See the
  <a class="Lk" title="Lk" href="https://www.rabbitmq.com/streams.html">RabbitMQ
  streams overview</a>.
<h2 class="Sh" title="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#n"><code class="Fl" title="Fl" id="n">-n</code></a>
    <var class="Ar" title="Ar">node</var></dt>
  <dd>Default node is
      &quot;rabbit@<var class="Ar" title="Ar">target-hostname</var>&quot;,
      where <var class="Ar" title="Ar">target-hostname</var> is the local host.
      On a host named &quot;myserver.example.com&quot;, the node name will
      usually be &quot;rabbit@myserver&quot; (unless
      <code class="Ev" title="Ev">RABBITMQ_NODENAME</code> has been overridden).
      The output of &quot;hostname -s&quot; is usually the correct suffix to
      use after the &quot;@&quot; sign. See
      <a class="Xr" title="Xr" href="rabbitmq-server.8.html">rabbitmq-server(8)</a>
      for details of configuring a RabbitMQ node.</dd>
  <dt><a class="permalink" href="#q"><code class="Fl" title="Fl" id="q">-q</code></a>,
    <code class="Fl" title="Fl">--quiet</code></dt>
  <dd>Quiet output mode is selected. Informational messages are reduced when
      quiet mode is in effect.</dd>
  <dt><a class="permalink" href="#s"><code class="Fl" title="Fl" id="s">-s</code></a>,
    <code class="Fl" title="Fl">--silent</code></dt>
  <dd>Silent output mode is selected. Informational messages are reduced and
      table headers are suppressed when silent mode is in effect.</dd>
  <dt><a class="permalink" href="#t"><code class="Fl" title="Fl" id="t">-t</code></a>
    <var class="Ar" title="Ar">timeout</var>,
    <code class="Fl" title="Fl">--timeout</code>
    <var class="Ar" title="Ar">timeout</var></dt>
  <dd>Operation timeout in seconds. Not all commands support timeouts. Default
      is <code class="Cm" title="Cm">infinity</code>.</dd>
  <dt><a class="permalink" href="#l"><code class="Fl" title="Fl" id="l">-l</code></a>,
    <code class="Fl" title="Fl">--longnames</code></dt>
  <dd>Must be specified when the cluster is configured to use long (FQDN) node
      names. To learn more, see the
      <a class="Lk" title="Lk" href="https://www.rabbitmq.com/clustering.html">RabbitMQ
      Clustering guide</a></dd>
  <dt><a class="permalink" href="#-erlang-cookie"><code class="Fl" title="Fl" id="-erlang-cookie">--erlang-cookie</code></a>
    <var class="Ar" title="Ar">cookie</var></dt>
  <dd>Shared secret to use to authenticate to the target node. Prefer using a
      local file or the
      <code class="Ev" title="Ev">RABBITMQ_ERLANG_COOKIE</code> environment
      variable instead of specifying this option on the command line. To learn
      more, see the
      <a class="Lk" title="Lk" href="https://www.rabbitmq.com/cli.html">RabbitMQ
      CLI Tools guide</a></dd>
</dl>
<h2 class="Sh" title="Sh" id="COMMANDS"><a class="permalink" href="#COMMANDS">COMMANDS</a></h2>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#help"><code class="Cm" title="Cm" id="help">help</code></a></dt>
  <dd>
    <div class="Pp"></div>
    Displays general help and commands supported by
      <code class="Nm" title="Nm">rabbitmq-streams</code>.</dd>
</dl>
<h3 class="Ss" title="Ss" id="Replication"><a class="permalink" href="#Replication">Replication</a></h3>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#add_replica"><code class="Cm" title="Cm" id="add_replica">add_replica</code></a>
    <var class="Ar" title="Ar">queue</var> <var class="Ar" title="Ar">node</var>
    <code class="Fl" title="Fl">--vhost</code>
    <var class="Ar" title="Ar">virtual-host</var></dt>
  <dd>
    <div class="Pp"></div>
    Adds a stream replica on the given node.
    <div class="Pp"></div>
    Example:
    <div class="Bd Bd-indent lang-bash"><code class="Li">rabbitmq-streams add_replica
      --vhost &quot;a-vhost&quot; &quot;a-queue&quot;
      &quot;rabbit@new-node&quot;</code></div>
  </dd>
  <dt><a class="permalink" href="#delete_replica"><code class="Cm" title="Cm" id="delete_replica">delete_replica</code></a>
    <var class="Ar" title="Ar">queue</var> <var class="Ar" title="Ar">node</var>
    <code class="Fl" title="Fl">--vhost</code>
    <var class="Ar" title="Ar">virtual-host</var></dt>
  <dd>
    <div class="Pp"></div>
    Removes a stream replica on the given node.
    <div class="Pp"></div>
    Example:
    <div class="Bd Bd-indent lang-bash"><code class="Li">rabbitmq-streams delete_replica
      --vhost &quot;a-vhost&quot; &quot;a-queue&quot;
      &quot;rabbit@decomissioned-node&quot;</code></div>
  </dd>
</dl>
<h3 class="Ss" title="Ss" id="Monitoring,_observability_and_health_checks"><a class="permalink" href="#Monitoring,_observability_and_health_checks">Monitoring,
  observability and health checks</a></h3>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#stream_status"><code class="Cm" title="Cm" id="stream_status">stream_status</code></a>
    <var class="Ar" title="Ar">stream</var>
    <code class="Fl" title="Fl">--vhost</code>
    <var class="Ar" title="Ar">virtual-host</var></dt>
  <dd>
    <div class="Pp"></div>
    Displays the status of a stream.
    <div class="Pp"></div>
    Example:
    <div class="Bd Bd-indent lang-bash"><code class="Li">rabbitmq-streams stream_status
      --vhost &quot;a-vhost&quot; &quot;a-stream&quot;</code></div>
  </dd>
</dl>
<h3 class="Ss" title="Ss" id="Policies"><a class="permalink" href="#Policies">Policies</a></h3>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#set_stream_retention_policy"><code class="Cm" title="Cm" id="set_stream_retention_policy">set_stream_retention_policy</code></a>
    <var class="Ar" title="Ar">stream</var>
    <var class="Ar" title="Ar">policy</var>
    <code class="Fl" title="Fl">--vhost</code>
    <var class="Ar" title="Ar">virtual-host</var></dt>
  <dd>
    <div class="Pp"></div>
    Set the retention policy of a stream.
    <div class="Pp"></div>
    Example:
    <div class="Bd Bd-indent lang-bash"><code class="Li">rabbitmq-streams
      set_stream_retention_policy --vhost &quot;a-vhost&quot;
      &quot;a-stream&quot; &quot;a-policy&quot;</code></div>
  </dd>
</dl>
<h3 class="Ss" title="Ss" id="Stream_plugin"><a class="permalink" href="#Stream_plugin">Stream
  plugin</a></h3>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#list_stream_connections"><code class="Cm" title="Cm" id="list_stream_connections">list_stream_connections</code></a>
    [<div class="Op"><var class="Ar" title="Ar">connectioninfoitem
    ...</var></div>]</dt>
  <dd>
    <div class="Pp"></div>
    Returns stream protocol connection statistics.
    <div class="Pp"></div>
    The <var class="Ar" title="Ar">connectioninfoitem</var> parameter is used to
      indicate which connection information items to include in the results. The
      column order in the results will match the order of the parameters.
      <var class="Ar" title="Ar">connectioninfoitem</var> can take any value
      from the list that follows:
    <dl class="Bl-tag">
      <dt><a class="permalink" href="#auth_mechanism"><code class="Cm" title="Cm" id="auth_mechanism">auth_mechanism</code></a></dt>
      <dd>SASL authentication mechanism used, such as
        &quot;PLAIN&quot;.</dd>
      <dt><a class="permalink" href="#client_properties"><code class="Cm" title="Cm" id="client_properties">client_properties</code></a></dt>
      <dd>Informational properties transmitted by the client during connection
          establishment.</dd>
      <dt><a class="permalink" href="#conn_name"><code class="Cm" title="Cm" id="conn_name">conn_name</code></a></dt>
      <dd>Readable name for the connection.</dd>
      <dt><a class="permalink" href="#connected_at"><code class="Cm" title="Cm" id="connected_at">connected_at</code></a></dt>
      <dd>Date and time this connection was established, as timestamp.</dd>
      <dt><a class="permalink" href="#connection_state"><code class="Cm" title="Cm" id="connection_state">connection_state</code></a></dt>
      <dd>Connection state; one of:
        <ul class="Bl-bullet Bl-compact">
          <li>running</li>
          <li>blocked</li>
        </ul>
      </dd>
      <dt><a class="permalink" href="#frame_max"><code class="Cm" title="Cm" id="frame_max">frame_max</code></a></dt>
      <dd>Maximum frame size (bytes).</dd>
      <dt><a class="permalink" href="#heartbeat"><code class="Cm" title="Cm" id="heartbeat">heartbeat</code></a></dt>
      <dd>Negotiated heartbeat interval, in seconds.</dd>
      <dt><a class="permalink" href="#host"><code class="Cm" title="Cm" id="host">host</code></a></dt>
      <dd>Server hostname obtained via reverse DNS, or its IP address if reverse
          DNS failed or was disabled.</dd>
      <dt><a class="permalink" href="#peer_cert_issuer"><code class="Cm" title="Cm" id="peer_cert_issuer">peer_cert_issuer</code></a></dt>
      <dd>The issuer of the peer's SSL certificate, in RFC4514 form.</dd>
      <dt><a class="permalink" href="#peer_cert_subject"><code class="Cm" title="Cm" id="peer_cert_subject">peer_cert_subject</code></a></dt>
      <dd>The subject of the peer's SSL certificate, in RFC4514 form.</dd>
      <dt><a class="permalink" href="#peer_cert_validity"><code class="Cm" title="Cm" id="peer_cert_validity">peer_cert_validity</code></a></dt>
      <dd>The period for which the peer's SSL certificate is valid.</dd>
      <dt><a class="permalink" href="#peer_host"><code class="Cm" title="Cm" id="peer_host">peer_host</code></a></dt>
      <dd>Peer hostname obtained via reverse DNS, or its IP address if reverse
          DNS failed or was not enabled.</dd>
      <dt><a class="permalink" href="#peer_port"><code class="Cm" title="Cm" id="peer_port">peer_port</code></a></dt>
      <dd>Peer port.</dd>
      <dt><a class="permalink" href="#port"><code class="Cm" title="Cm" id="port">port</code></a></dt>
      <dd>Server port.</dd>
      <dt><a class="permalink" href="#ssl"><code class="Cm" title="Cm" id="ssl">ssl</code></a></dt>
      <dd>Boolean indicating whether the connection is secured with SSL.</dd>
      <dt><a class="permalink" href="#ssl_cipher"><code class="Cm" title="Cm" id="ssl_cipher">ssl_cipher</code></a></dt>
      <dd>SSL cipher algorithm (e.g. &quot;aes_256_cbc&quot;).</dd>
      <dt><a class="permalink" href="#ssl_hash"><code class="Cm" title="Cm" id="ssl_hash">ssl_hash</code></a></dt>
      <dd>SSL hash function (e.g. &quot;sha&quot;).</dd>
      <dt><a class="permalink" href="#ssl_key_exchange"><code class="Cm" title="Cm" id="ssl_key_exchange">ssl_key_exchange</code></a></dt>
      <dd>SSL key exchange algorithm (e.g. &quot;rsa&quot;).</dd>
      <dt><a class="permalink" href="#ssl_protocol"><code class="Cm" title="Cm" id="ssl_protocol">ssl_protocol</code></a></dt>
      <dd>SSL protocol (e.g. &quot;tlsv1&quot;).</dd>
      <dt><a class="permalink" href="#subscriptions"><code class="Cm" title="Cm" id="subscriptions">subscriptions</code></a></dt>
      <dd>Number of subscriptions (consumers) on the connection.</dd>
      <dt><a class="permalink" href="#user"><code class="Cm" title="Cm" id="user">user</code></a></dt>
      <dd>Username associated with the connection.</dd>
      <dt><a class="permalink" href="#vhost"><code class="Cm" title="Cm" id="vhost">vhost</code></a></dt>
      <dd>Virtual host name with non-ASCII characters escaped as in C.</dd>
    </dl>
    <div class="Pp"></div>
    If no <var class="Ar" title="Ar">connectioninfoitem</var> are specified then
      only conn_name is displayed.
    <div class="Pp"></div>
    For example, this command displays the connection name and user for each
      connection:
    <div class="Pp"></div>
    <div class="Bd Bd-indent lang-bash"><code class="Li">rabbitmq-streams
      list_stream_connections conn_name user</code></div>
  </dd>
  <dt><a class="permalink" href="#list_stream_consumers"><code class="Cm" title="Cm" id="list_stream_consumers">list_stream_consumers</code></a>
    [<div class="Op"><code class="Fl" title="Fl">-p</code>
    <var class="Ar" title="Ar">vhost</var></div>]
    [<div class="Op"><var class="Ar" title="Ar">consumerinfoitem
    ...</var></div>]</dt>
  <dd>
    <div class="Pp"></div>
    Returns consumers attached to a stream.
    <div class="Pp"></div>
    The <var class="Ar" title="Ar">consumerinfoitem</var> parameter is used to
      indicate which consumer information items to include in the results. The
      column order in the results will match the order of the parameters.
      <var class="Ar" title="Ar">consumerinfoitem</var> can take any value from
      the list that follows:
    <dl class="Bl-tag">
      <dt><var class="Ar" title="Ar">connection_pid</var></dt>
      <dd>Id of the Erlang process associated with the consumer connection.</dd>
      <dt><var class="Ar" title="Ar">credits</var></dt>
      <dd>Available credits for the consumer.</dd>
      <dt><var class="Ar" title="Ar">messages_consumed</var></dt>
      <dd>Number of messages the consumer consumed.</dd>
      <dt><var class="Ar" title="Ar">offset</var></dt>
      <dd>The offset (location in the stream) the consumer is at.</dd>
      <dt><var class="Ar" title="Ar">offset_lag</var></dt>
      <dd>The difference between the last stored offset and the last dispatched
          offset for the consumer.</dd>
      <dt><var class="Ar" title="Ar">properties</var></dt>
      <dd>The properties of the consumer subscription.</dd>
      <dt><var class="Ar" title="Ar">stream</var></dt>
      <dd>The stream the consumer is attached to.</dd>
      <dt><var class="Ar" title="Ar">subscription_id</var></dt>
      <dd>The connection-scoped ID of the consumer.</dd>
    </dl>
    <div class="Pp"></div>
    If no <var class="Ar" title="Ar">consumerinfoitem</var> are specified then
      connection_pid, subscription_id, stream, messages_consumed, offset,
      offset_lag, credits, properties are displayed.
    <div class="Pp"></div>
    For example, this command displays the connection PID, subscription ID and
      stream for each consumer:
    <div class="Pp"></div>
    <div class="Bd Bd-indent lang-bash"><code class="Li">rabbitmq-streams
      list_stream_consumers connection_pid subscription_id stream</code></div>
    <div class="Pp"></div>
  </dd>
  <dt><a class="permalink" href="#list_stream_publishers"><code class="Cm" title="Cm" id="list_stream_publishers">list_stream_publishers</code></a>
    [<div class="Op"><code class="Fl" title="Fl">-p</code>
    <var class="Ar" title="Ar">vhost</var></div>]
    [<div class="Op"><var class="Ar" title="Ar">publisherinfoitem
    ...</var></div>]</dt>
  <dd>
    <div class="Pp"></div>
    Returns registered publishers.
    <div class="Pp"></div>
    The <var class="Ar" title="Ar">publisherinfoitem</var> parameter is used to
      indicate which publisher information items to include in the results. The
      column order in the results will match the order of the parameters.
      <var class="Ar" title="Ar">publisherinfoitem</var> can take any value from
      the list that follows:
    <dl class="Bl-tag">
      <dt><var class="Ar" title="Ar">connection_pid</var></dt>
      <dd>Id of the Erlang process associated with the consumer connection.</dd>
      <dt><var class="Ar" title="Ar">messages_confirmed</var></dt>
      <dd>The number of confirmed messages for the publisher.</dd>
      <dt><var class="Ar" title="Ar">messages_errored</var></dt>
      <dd>The number of errored messages for the publisher.</dd>
      <dt><var class="Ar" title="Ar">messages_published</var></dt>
      <dd>The overall number of messages the publisher published.</dd>
      <dt><var class="Ar" title="Ar">publisher_id</var></dt>
      <dd>The connection-scoped ID of the publisher.</dd>
      <dt><var class="Ar" title="Ar">reference</var></dt>
      <dd>The deduplication reference of the publisher.</dd>
      <dt><var class="Ar" title="Ar">stream</var></dt>
      <dd>The stream the publisher publishes to.</dd>
    </dl>
    <div class="Pp"></div>
    If no <var class="Ar" title="Ar">publisherinfoitem</var> are specified then
      connection_pid, publisher_id, stream, reference, messages_published,
      messages_confirmed, and messages_errored are displayed.
    <div class="Pp"></div>
    For example, this command displays the connection PID, publisher ID and
      stream for each producer:
    <div class="Pp"></div>
    <div class="Bd Bd-indent lang-bash"><code class="Li">rabbitmq-streams
      list_stream_publishers connection_pid publisher_id stream</code></div>
  </dd>
</dl>
<h2 class="Sh" title="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h2>
<a class="Xr" title="Xr" href="rabbitmqctl.8.html">rabbitmqctl(8)</a>,
  <a class="Xr" title="Xr" href="rabbitmq-diagnostics.8.html">rabbitmq-diagnostics(8)</a>,
  <a class="Xr" title="Xr" href="rabbitmq-server.8.html">rabbitmq-server(8)</a>,
  <a class="Xr" title="Xr" href="rabbitmq-queues.8.html">rabbitmq-queues(8)</a>,
  <a class="Xr" title="Xr" href="rabbitmq-upgrade.8.html">rabbitmq-upgrade(8)</a>,
  <a class="Xr" title="Xr" href="rabbitmq-service.8.html">rabbitmq-service(8)</a>,
  <a class="Xr" title="Xr" href="rabbitmq-env.conf.5.html">rabbitmq-env.conf(5)</a>,
  <a class="Xr" title="Xr" href="rabbitmq-echopid.8.html">rabbitmq-echopid(8)</a>
<h2 class="Sh" title="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h2>
<span class="An" title="An">The RabbitMQ Team</span>
  &lt;<a class="Mt" title="Mt" href="mailto:info@rabbitmq.com">info@rabbitmq.com</a>&gt;</div>
