<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-NSPM4RC');</script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="googlebot" content="NOODP" /><meta name="google-site-verification" content="nSYeDgyKM9mw5CWcZuD0xu7iSWXlJijAlg9rcxVOYf4" /><meta name="google-site-verification" content="6UEaC3SWhpGQvqRnSJIEm2swxXpM5Adn4dxZhFsNdw0" /><meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="viewport" name="viewport" /><link href="https://fonts.googleapis.com/css?family=Raleway:400,500,600,700" rel="stylesheet" /><link rel="stylesheet" href="/css/rabbit.css" type="text/css" /><link rel="stylesheet" href="/css/highlightjs_style.css" type="text/css" /><link rel="stylesheet" href="/css/rabbit-next.css" type="text/css" /><!--[if IE 6]>
      <link rel="stylesheet" href="/css/rabbit-ie6.css" type="text/css" />
      <![endif]--><link rel="icon" type="/image/vnd.microsoft.icon" href="/favicon.ico" /><link rel="stylesheet" href="/css/tutorial.css" type="text/css" /><script async="true" type="text/javascript" src="/js/site.js"></script><title>rabbitmqctl(8) — RabbitMQ</title>
    
  </head>
  <body id=""><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NSPM4RC" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="outerContainer"><div class="container"><div class="rabbit-logo"><a href="/"><img src="/img/logo-rabbitmq.svg" alt="RabbitMQ" /></a></div><a class="btn menubtn" onclick="showHide()">Menu <img src="/img/carrot-down-white.svg" /></a><div class="mobilemenuicon" onclick="showHide()"><img src="/img/mobile-menu-icon.svg" /></div><div id="nav"><ul id="mainNav"><li><a href="/#features">Features</a></li><li><a href="/#getstarted">Get Started</a></li><li><a href="/#support">Support</a></li><li><a href="/#community">Community</a></li><li><a href="/documentation.html">Docs</a></li></ul></div></div><div class="nav-separator"></div><div id="innerContainer" class="container"><div id="left-content"><h1>rabbitmqctl(8)</h1>
    <div class="docSection"><a name="manpage" class="anchor" id="manpage"></a>
      <div xmlns="" class="mandoc" xml:base="man/rabbitmqctl.8.html">
<div class="section">
<h2 id="x4e414d45">NAME</h2> <b class="name">rabbitmqctl</b> — <span class="desc">tool for managing RabbitMQ nodes</span></div>
<div class="section">
<h2 id="x53594e4f50534953">SYNOPSIS</h2><table class="synopsis">
<col style="width: 11.00ex;" />
<col />
<tbody>
<tr>
<td>
rabbitmqctl</td>
<td>
[<span class="opt"><b class="flag">-q</b></span>] [<span class="opt"><b class="flag">-s</b></span>] [<span class="opt"><b class="flag">-l</b></span>] [<span class="opt"><b class="flag">-n</b> <i class="arg">node</i></span>] [<span class="opt"><b class="flag">-t</b> <i class="arg">timeout</i></span>] <i class="arg">command</i> [<span class="opt"><i class="arg">command_options</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h2 id="x4445534352495054494f4e">DESCRIPTION</h2> RabbitMQ is an open source multi-protocol messaging broker.<div class="spacer">
</div>
<b class="name">rabbitmqctl</b> is a command line tool for managing a RabbitMQ server node. It performs all actions by connecting to the target RabbitMQ node on a dedicated CLI tool communication port and authenticating using a shared secret (known as the cookie file).<div class="spacer">
</div>
Diagnostic information is displayed if connection failed, the target node was not running, or <b class="name">rabbitmqctl</b> could not authenticate to the target node successfully. To learn more, see the <a class="link-ext" href="https://www.rabbitmq.com/cli.html">RabbitMQ CLI Tools guide</a> and <a class="link-ext" href="https://www.rabbitmq.com/networking.html">RabbitMQ Networking guide</a></div>
<div class="section">
<h2 id="x4f5054494f4e53">OPTIONS</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b> <i class="arg">node</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Default node is “<i class="arg">rabbit@target-hostname</i>”, where <i class="arg">target-hostname</i> is the local host. On a host named “myserver.example.com”, the node name will usually be “rabbit@myserver” (unless <span class="env">RABBITMQ_NODENAME</span> has been overridden). The output of “hostname -s” is usually the correct suffix to use after the “@” sign. See <a class="link-man" href="rabbitmq-server.8.html">rabbitmq-server(8)</a> for details of configuring a RabbitMQ node.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b>, <b class="flag">--quiet</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Quiet output mode is selected. Informational messages are reduced when quiet mode is in effect.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b>, <b class="flag">--silent</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Silent output mode is selected. Informational messages are reduced and table headers are suppressed when silent mode is in effect.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--no-table-headers</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not output headers for tabular data.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--dry-run</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not run the command. Only print information message.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-t</b> <i class="arg">timeout</i>, <b class="flag">--timeout</b> <i class="arg">timeout</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Operation timeout in seconds. Not all commands support timeouts. Default is <b class="flag">infinity</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b>, <b class="flag">--longnames</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Must be specified when the cluster is configured to use long (FQDN) node names. To learn more, see the <a class="link-ext" href="https://www.rabbitmq.com/clustering.html">RabbitMQ Clustering guide</a></dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--erlang-cookie</b> <i class="arg">cookie</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Shared secret to use to authenticate to the target node. Prefer using a local file or the <span class="env">RABBITMQ_ERLANG_COOKIE</span> environment variable instead of specifying this option on the command line. To learn more, see the <a class="link-ext" href="https://www.rabbitmq.com/cli.html">RabbitMQ CLI Tools guide</a></dd>
</dl>
</div>
<div class="section">
<h2 id="x434f4d4d414e4453">COMMANDS</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">help</b> [<span class="opt"><b class="flag">-l</b></span>] [<span class="opt"><i class="arg">command_name</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Prints usage for all available commands.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b>, <b class="flag">--list-commands</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
List command usages only, without parameter explanation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">command_name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Prints usage for the specified command.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">version</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Displays CLI tools version</dd>
</dl>
<div class="subsection">
<h3 id="x4e6f646573">Nodes</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">await_startup</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Waits for the RabbitMQ application to start on the target node<div class="spacer">
</div>
For example, to wait for the RabbitMQ application to start:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl await_startup</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">reset</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Returns a RabbitMQ node to its virgin state.<div class="spacer">
</div>
Removes the node from any cluster it belongs to, removes all data from the management database, such as configured users and vhosts, and deletes all persistent messages.<div class="spacer">
</div>
For <b class="flag">reset</b> and <b class="flag">force_reset</b> to succeed the RabbitMQ application must have been stopped, e.g. with <b class="flag">stop_app</b>.<div class="spacer">
</div>
For example, to reset the RabbitMQ node:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl reset</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rotate_logs</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Instructs the RabbitMQ node to perform internal log rotation.<div class="spacer">
</div>
Log rotation is performed according to lager settings specified in configuration file.<div class="spacer">
</div>
Note that there is no need to call this command in case of external log rotation (e.g. from logrotate(8)), because lager detects renames and automatically reopens log files.<div class="spacer">
</div>
For example, this command starts internal log rotation process:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl rotate_logs</span></div>
</blockquote>
<div class="spacer">
</div>
Rotation is performed asynchronously, so there is no guarantee that it will be completed when this command returns.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">shutdown</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Shuts down the node, both RabbitMQ and its runtime. The command is blocking and will return after the runtime process exits. If RabbitMQ fails to stop, it will return a non-zero exit code. This command infers the OS PID of the target node and therefore can only be used to shut down nodes running on the same host (or broadly speaking, in the same operating system, e.g. in the same VM or container)<div class="spacer">
</div>
Unlike the stop command, the shutdown command:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
does not require a <i class="arg">pid_file</i> to wait for the runtime process to exit</li>
<li class="list-bul" style="margin-top: 1.00em;">
returns a non-zero exit code if RabbitMQ node is not running</li>
</ul>
<div class="spacer">
</div>
For example, this will shut down a locally running RabbitMQ node with default node name:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl shutdown</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">start_app</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Starts the RabbitMQ application.<div class="spacer">
</div>
This command is typically run after performing other management actions that required the RabbitMQ application to be stopped, e.g. <b class="flag">reset</b>.<div class="spacer">
</div>
For example, to instruct the RabbitMQ node to start the RabbitMQ application:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl start_app</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">stop</b> [<span class="opt"><i class="arg">pid_file</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Stops the Erlang node on which RabbitMQ is running. To restart the node follow the instructions for “Running the Server” in the <a class="link-ext" href="https://rabbitmq.com/download.html">installation guide</a>.<div class="spacer">
</div>
If a <i class="arg">pid_file</i> is specified, also waits for the process specified there to terminate. See the description of the <b class="flag">wait</b> command for details on this file.<div class="spacer">
</div>
For example, to instruct the RabbitMQ node to terminate:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl stop</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">stop_app</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Stops the RabbitMQ application, leaving the runtime (Erlang VM) running.<div class="spacer">
</div>
This command is typically run prior to performing other management actions that require the RabbitMQ application to be stopped, e.g. <b class="flag">reset</b>.<div class="spacer">
</div>
For example, to instruct the RabbitMQ node to stop the RabbitMQ application:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl stop_app</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">wait</b> <i class="arg">pid_file</i>, <b class="flag">wait</b> <b class="flag">--pid</b> <i class="arg">pid</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Waits for the RabbitMQ application to start.<div class="spacer">
</div>
This command will wait for the RabbitMQ application to start at the node. It will wait for the pid file to be created if <i class="arg">pidfile</i> is specified, then for a process with a pid specified in the pid file or the <b class="flag">--pid</b> argument, and then for the RabbitMQ application to start in that process. It will fail if the process terminates without starting the RabbitMQ application.<div class="spacer">
</div>
If the specified pidfile is not created or erlang node is not started within <b class="flag">--timeout</b> the command will fail. Default timeout is 10 seconds.<div class="spacer">
</div>
A suitable pid file is created by the <a class="link-man" href="rabbitmq-server.8.html">rabbitmq-server(8)</a> script. By default this is located in the Mnesia directory. Modify the <span class="env">RABBITMQ_PID_FILE</span> environment variable to change the location.<div class="spacer">
</div>
For example, this command will return when the RabbitMQ node has started up:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl wait /var/run/rabbitmq/pid</span></div>
</blockquote>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x436c7573746572206d616e6167656d656e74">Cluster management</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">await_online_nodes</b> <i class="arg">count</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Waits for <i class="arg">count</i> nodes to join the cluster<div class="spacer">
</div>
For example, to wait for two RabbitMQ nodes to start:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl await_online_nodes 2</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">change_cluster_node_type</b> <i class="arg">type</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Changes the type of the cluster node.<div class="spacer">
</div>
The <i class="arg">type</i> must be one of the following:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
<b class="flag">disc</b></li>
<li class="list-bul" style="margin-top: 0.00em;">
<b class="flag">ram</b></li>
</ul>
<div class="spacer">
</div>
The node must be stopped for this operation to succeed, and when turning a node into a RAM node the node must not be the only disc node in the cluster.<div class="spacer">
</div>
For example, this command will turn a RAM node into a disc node:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl change_cluster_node_type disc</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">cluster_status</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Displays all the nodes in the cluster grouped by node type, together with the currently running nodes.<div class="spacer">
</div>
For example, this command displays the nodes in the cluster:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl cluster_status</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">force_boot</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Ensures that the node will start next time, even if it was not the last to shut down.<div class="spacer">
</div>
Normally when you shut down a RabbitMQ cluster altogether, the first node you restart should be the last one to go down, since it may have seen things happen that other nodes did not. But sometimes that's not possible: for instance if the entire cluster loses power then all nodes may think they were not the last to shut down.<div class="spacer">
</div>
In such a case you can invoke <b class="flag">force_boot</b> while the node is down. This will tell the node to unconditionally start next time you ask it to. If any changes happened to the cluster after this node shut down, they will be lost.<div class="spacer">
</div>
If the last node to go down is permanently lost then you should use <b class="flag">forget_cluster_node</b> <b class="flag">--offline</b> in preference to this command, as it will ensure that mirrored queues which were mastered on the lost node get promoted.<div class="spacer">
</div>
For example, this will force the node not to wait for other nodes next time it is started:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl force_boot</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">force_reset</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Forcefully returns a RabbitMQ node to its virgin state.<div class="spacer">
</div>
The <b class="flag">force_reset</b> command differs from <b class="flag">reset</b> in that it resets the node unconditionally, regardless of the current management database state and cluster configuration. It should only be used as a last resort if the database or cluster configuration has been corrupted.<div class="spacer">
</div>
For <b class="flag">reset</b> and <b class="flag">force_reset</b> to succeed the RabbitMQ application must have been stopped, e.g. with <b class="flag">stop_app</b>.<div class="spacer">
</div>
For example, to reset the RabbitMQ node:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl force_reset</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">forget_cluster_node</b> [<span class="opt"><b class="flag">--offline</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--offline</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enables node removal from an offline node. This is only useful in the situation where all the nodes are offline and the last node to go down cannot be brought online, thus preventing the whole cluster from starting. It should not be used in any other circumstances since it can lead to inconsistencies.</dd>
</dl>
<div class="spacer">
</div>
Removes a cluster node remotely. The node that is being removed must be offline, while the node we are removing from must be online, except when using the <b class="flag">--offline</b> flag.<div class="spacer">
</div>
When using the <b class="flag">--offline</b> flag , <b class="name">rabbitmqctl</b> will not attempt to connect to a node as normal; instead it will temporarily become the node in order to make the change. This is useful if the node cannot be started normally. In this case the node will become the canonical source for cluster metadata (e.g. which queues exist), even if it was not before. Therefore you should use this command on the latest node to shut down if at all possible.<div class="spacer">
</div>
For example, this command will remove the node “rabbit@stringer” from the node “hare@mcnulty”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl -n hare@mcnulty forget_cluster_node rabbit@stringer</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">join_cluster</b> <i class="arg">seed-node</i> [<span class="opt"><b class="flag">--ram</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">seed-node</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Existing cluster member (seed node) to cluster with.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--ram</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If provided, the node will join the cluster as a RAM node. RAM node use is discouraged. Use only if you understand why exactly you need to use them.</dd>
</dl>
<div class="spacer">
</div>
Instructs the node to become a member of the cluster that the specified node is in. Before clustering, the node is reset, so be careful when using this command. For this command to succeed the RabbitMQ application must have been stopped, e.g. with <b class="flag">stop_app</b>.<div class="spacer">
</div>
Cluster nodes can be of two types: disc or RAM. Disc nodes replicate data in RAM and on disc, thus providing redundancy in the event of node failure and recovery from global events such as power failure across all nodes. RAM nodes replicate data in RAM only (with the exception of queue contents, which can reside on disc if the queue is persistent or too big to fit in memory) and are mainly used for scalability. RAM nodes are more performant only when managing resources (e.g. adding/removing queues, exchanges, or bindings). A cluster must always have at least one disc node, and usually should have more than one.<div class="spacer">
</div>
The node will be a disc node by default. If you wish to create a RAM node, provide the <b class="flag">--ram</b> flag.<div class="spacer">
</div>
After executing the <b class="flag">join_cluster</b> command, whenever the RabbitMQ application is started on the current node it will attempt to connect to the nodes that were in the cluster when the node went down.<div class="spacer">
</div>
To leave a cluster, <b class="flag">reset</b> the node. You can also remove nodes remotely with the <b class="flag">forget_cluster_node</b> command.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ node to join the cluster that “hare@elena” is part of, as a ram node:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl join_cluster hare@elena --ram</span></div>
</blockquote>
<div class="spacer">
</div>
To learn more, see the <a class="link-ext" href="https://www.rabbitmq.com/clustering.html">RabbitMQ Clustering guide</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rename_cluster_node</b> <i class="arg">oldnode1</i> <i class="arg">newnode1</i> [<span class="opt"><i class="arg">oldnode2</i> <i class="arg">newnode2 ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Supports renaming of cluster nodes in the local database.<div class="spacer">
</div>
This subcommand causes <b class="name">rabbitmqctl</b> to temporarily become the node in order to make the change. The local cluster node must therefore be completely stopped; other nodes can be online or offline.<div class="spacer">
</div>
This subcommand takes an even number of arguments, in pairs representing the old and new names for nodes. You must specify the old and new names for this node and for any other nodes that are stopped and being renamed at the same time.<div class="spacer">
</div>
It is possible to stop all nodes and rename them all simultaneously (in which case old and new names for all nodes must be given to every node) or stop and rename nodes one at a time (in which case each node only needs to be told how its own name is changing).<div class="spacer">
</div>
For example, this command will rename the node “rabbit@misshelpful” to the node “rabbit@cordelia”<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl rename_cluster_node rabbit@misshelpful rabbit@cordelia</span></div>
</blockquote>
<div class="spacer">
</div>
Note that this command only changes the local database. It may also be necessary to rename the local database directories, and to configure the new node name. For example:<div style="height: 1.00em;">
 </div>
<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 0.00em;">
Stop the node:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl stop rabbit@misshelpful</span></div>
</blockquote>
<div style="height: 1.00em;">
 </div>
</li>
<li class="list-enum" style="margin-top: 0.00em;">
Rename the node in the local database:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl rename_cluster_node rabbit@misshelpful rabbit@cordelia</span></div>
</blockquote>
<div style="height: 1.00em;">
 </div>
</li>
<li class="list-enum" style="margin-top: 0.00em;">
Rename the local database directories (note, you do not need to do this if you have set the RABBITMQ_MNESIA_DIR environment variable):<div style="height: 1.00em;">
 </div>
<pre style="margin-left: 5.00ex;" class="lit display">
mv \ 
  /var/lib/rabbitmq/mnesia/rabbit\@misshelpful \ 
  /var/lib/rabbitmq/mnesia/rabbit\@cordelia 
mv \ 
  /var/lib/rabbitmq/mnesia/rabbit\@misshelpful-rename \ 
  /var/lib/rabbitmq/mnesia/rabbit\@cordelia-rename 
mv \ 
  /var/lib/rabbitmq/mnesia/rabbit\@misshelpful-plugins-expand \ 
  /var/lib/rabbitmq/mnesia/rabbit\@cordelia-plugins-expand</pre>
<div style="height: 1.00em;">
 </div>
</li>
<li class="list-enum" style="margin-top: 0.00em;">
If node name is configured e.g. using <i class="arg">/etc/rabbitmq/rabbitmq-env.conf</i> it has also be updated there.<div style="height: 1.00em;">
 </div>
</li>
<li class="list-enum" style="margin-top: 0.00em;">
Start the node when ready</li>
</ol>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">update_cluster_nodes</b> <i class="arg">clusternode</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">clusternode</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The node to consult for up-to-date information.</dd>
</dl>
<div class="spacer">
</div>
Instructs an already clustered node to contact <i class="arg">clusternode</i> to cluster when booting up. This is different from <b class="flag">join_cluster</b> since it does not join any cluster - it checks that the node is already in a cluster with <i class="arg">clusternode</i>.<div class="spacer">
</div>
The need for this command is motivated by the fact that clusters can change while a node is offline. Consider a situation where node <b class="var">rabbit@A</b> and <b class="var">rabbit@B</b> are clustered. <b class="var">rabbit@A</b> goes down, <b class="var">rabbit@C</b> clusters with <b class="var">rabbit@B</b>, and then <b class="var">rabbit@B</b> leaves the cluster. When <b class="var">rabbit@A</b> starts back up, it'll try to contact <b class="var">rabbit@B</b>, but this will fail since <b class="var">rabbit@B</b> is not in the cluster anymore. The following command will rename node <b class="var">rabbit@B</b> to <b class="var">rabbit@C</b> on node <b class="var">rabbitA</b><div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">update_cluster_nodes -n <b xmlns="" class="var">rabbit@A</b> <b xmlns="" class="var">rabbit@B</b> <b xmlns="" class="var">rabbit@C</b></span></div>
</blockquote>
<div class="spacer">
</div>
To learn more, see the <a class="link-ext" href="https://www.rabbitmq.com/clustering.html">RabbitMQ Clustering guide</a></dd>
</dl>
</div>
<div class="subsection">
<h3 id="x5265706c69636174696f6e">Replication</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">sync_queue</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">queue</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">queue</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the queue to synchronise.</dd>
</dl>
<div class="spacer">
</div>
Instructs a mirrored queue with unsynchronised mirrors (follower replicas) to synchronise them. The queue will block while synchronisation takes place (all publishers to and consumers using the queue will block or temporarily see no activity). This command can only be used with mirrored queues. To learn more, see the <a class="link-ext" href="https://www.rabbitmq.com/ha.html">RabbitMQ Mirroring guide</a><div class="spacer">
</div>
Note that queues with unsynchronised replicas and active consumers will become synchronised eventually (assuming that consumers make progress). This command is primarily useful for queues which do not have active consumers.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">cancel_sync_queue</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">queue</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">queue</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the queue to cancel synchronisation for.</dd>
</dl>
<div class="spacer">
</div>
Instructs a synchronising mirrored queue to stop synchronising itself.</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x55736572204d616e6167656d656e74">User Management</h3> Note that all user management commands <b class="name">rabbitmqctl</b> only can manage users in the internal RabbitMQ database. Users from any alternative authentication backends such as LDAP cannot be inspected or managed with those commands. <b class="name">rabbitmqctl</b>.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">add_user</b> <i class="arg">username</i> <i class="arg">password</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user to create.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">password</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The password the created user will use to log in to the broker.</dd>
</dl>
<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to create a (non-administrative) user named “janeway” with (initial) password “changeit”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl add_user janeway changeit</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">authenticate_user</b> <i class="arg">username</i> <i class="arg">password</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">password</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The password of the user.</dd>
</dl>
<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to authenticate the user named “janeway” with password “verifyit”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl authenticate_user janeway verifyit</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">change_password</b> <i class="arg">username</i> <i class="arg">newpassword</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user whose password is to be changed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">newpassword</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The new password for the user.</dd>
</dl>
<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to change the password for the user named “janeway” to “newpass”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl change_password janeway newpass</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clear_password</b> <i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user whose password is to be cleared.</dd>
</dl>
<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to clear the password for the user named “janeway”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl clear_password janeway</span></div>
</blockquote>
<div class="spacer">
</div>
This user now cannot log in with a password (but may be able to through e.g. SASL EXTERNAL if configured).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">delete_user</b> <i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user to delete.</dd>
</dl>
<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to delete the user named “janeway”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl delete_user janeway</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_users</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists users. Each result row will contain the user name followed by a list of the tags set for that user.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to list all users:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_users</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_user_tags</b> <i class="arg">username</i> [<span class="opt"><i class="arg">tag ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user whose tags are to be set.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">tag</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Zero, one or more tags to set. Any existing tags will be removed.</dd>
</dl>
<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to ensure the user named “janeway” is an administrator:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_user_tags janeway administrator</span></div>
</blockquote>
<div class="spacer">
</div>
This has no effect when the user logs in via AMQP, but can be used to permit the user to manage users, virtual hosts and permissions when the user logs in via some other means (for example with the management plugin).<div class="spacer">
</div>
This command instructs the RabbitMQ broker to remove any tags from the user named “janeway”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_user_tags janeway</span></div>
</blockquote>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x41636365737320636f6e74726f6c">Access control</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clear_permissions</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host to which to deny the user access, defaulting to “/”.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user to deny access to the specified virtual host.</dd>
</dl>
<div class="spacer">
</div>
Sets user permissions.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to deny the user named “janeway” access to the virtual host called “my-vhost”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl clear_permissions -p my-vhost janeway</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clear_topic_permissions</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">username</i> [<span class="opt"><i class="arg">exchange</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host to which to clear the topic permissions, defaulting to “/”.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user to clear topic permissions to the specified virtual host.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">exchange</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the topic exchange to clear topic permissions, defaulting to all the topic exchanges the given user has topic permissions for.</dd>
</dl>
<div class="spacer">
</div>
Clear user topic permissions.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to remove topic permissions for user named “janeway” for the topic exchange “amq.topic” in the virtual host called “my-vhost”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl clear_topic_permissions -p my-vhost janeway amq.topic</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_permissions</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host for which to list the users that have been granted access to it, and their permissions. Defaults to “/”.</dd>
</dl>
<div class="spacer">
</div>
Lists permissions in a virtual host.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to list all the users which have been granted access to the virtual host called “my-vhost”, and the permissions they have for operations on resources in that virtual host. Note that an empty string means no permissions granted:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_permissions -p my-vhost</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_topic_permissions</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host for which to list the users topic permissions. Defaults to “/”.</dd>
</dl>
<div class="spacer">
</div>
Lists topic permissions in a virtual host.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to list all the users which have been granted topic permissions in the virtual host called “my-vhost:”<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_topic_permissions -p my-vhost</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_user_permissions</b> <i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user for which to list the permissions.</dd>
</dl>
<div class="spacer">
</div>
Lists user permissions.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to list all the virtual hosts to which the user named “janeway” has been granted access, and the permissions the user has for operations on resources in these virtual hosts:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_user_permissions janeway</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_user_topic_permissions</b> <i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user for which to list the topic permissions.</dd>
</dl>
<div class="spacer">
</div>
Lists user topic permissions.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to list all the virtual hosts to which the user named “janeway” has been granted access, and the topic permissions the user has in these virtual hosts:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_topic_user_permissions janeway</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_vhosts</b> [<span class="opt"><i class="arg">vhostinfoitem ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists virtual hosts.<div class="spacer">
</div>
The <i class="arg">vhostinfoitem</i> parameter is used to indicate which virtual host information items to include in the results. The column order in the results will match the order of the parameters. <i class="arg">vhostinfoitem</i> can take any value from the list that follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host with non-ASCII characters escaped as in C.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">tracing</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Whether tracing is enabled for this virtual host.</dd>
</dl>
<div class="spacer">
</div>
If no <i class="arg">vhostinfoitem</i> are specified then the vhost name is displayed.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to list all virtual hosts:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_vhosts name tracing</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_permissions</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">user</i> <i class="arg">conf</i> <i class="arg">write</i> <i class="arg">read</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host to which to grant the user access, defaulting to “/”.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">user</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user to grant access to the specified virtual host.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">conf</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A regular expression matching resource names for which the user is granted configure permissions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">write</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A regular expression matching resource names for which the user is granted write permissions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">read</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A regular expression matching resource names for which the user is granted read permissions.</dd>
</dl>
<div class="spacer">
</div>
Sets user permissions.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to grant the user named “janeway” access to the virtual host called “my-vhost”, with configure permissions on all resources whose names starts with “janeway-”, and write and read permissions on all resources:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_permissions -p my-vhost janeway “^janeway-.*” “.*” “.*”</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_topic_permissions</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">user</i> <i class="arg">exchange</i> <i class="arg">write</i> <i class="arg">read</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host to which to grant the user access, defaulting to “/”.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">user</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the user the permissions apply to in the target virtual host.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">exchange</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the topic exchange the authorisation check will be applied to.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">write</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A regular expression matching the routing key of the published message.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">read</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A regular expression matching the routing key of the consumed message.</dd>
</dl>
<div class="spacer">
</div>
Sets user topic permissions.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to let the user named “janeway” publish and consume messages going through the “amp.topic” exchange of the “my-vhost” virtual host with a routing key starting with “janeway-”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_topic_permissions -p my-vhost janeway amq.topic “^janeway-.*” “^janeway-.*”</span></div>
</blockquote>
<div class="spacer">
</div>
Topic permissions support variable expansion for the following variables: username, vhost, and client_id. Note that client_id is expanded only when using MQTT. The previous example could be made more generic by using “^{username}-.*”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_topic_permissions -p my-vhost janeway amq.topic “^{username}-.*” “^{username}-.*”</span></div>
</blockquote>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x4d6f6e69746f72696e672c206f62736572766162696c69747920616e64206865616c746820636865636b73">Monitoring, observability and health checks</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">environment</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Displays the name and value of each variable in the application environment for each running application.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_bindings</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] [<span class="opt"><i class="arg">bindinginfoitem ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Returns binding details. By default the bindings for the “/” virtual host are returned. The <b class="flag">-p</b> flag can be used to override this default.<div class="spacer">
</div>
The <i class="arg">bindinginfoitem</i> parameter is used to indicate which binding information items to include in the results. The column order in the results will match the order of the parameters. <i class="arg">bindinginfoitem</i> can take any value from the list that follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">source_name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the source of messages to which the binding is attached. With non-ASCII characters escaped as in C.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">source_kind</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The kind of the source of messages to which the binding is attached. Currently always exchange. With non-ASCII characters escaped as in C.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">destination_name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the destination of messages to which the binding is attached. With non-ASCII characters escaped as in C.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">destination_kind</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The kind of the destination of messages to which the binding is attached. With non-ASCII characters escaped as in C.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">routing_key</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The binding's routing key, with non-ASCII characters escaped as in C.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">arguments</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The binding's arguments.</dd>
</dl>
<div class="spacer">
</div>
If no <i class="arg">bindinginfoitem</i> are specified then all above items are displayed.<div class="spacer">
</div>
For example, this command displays the exchange name and queue name of the bindings in the virtual host named “my-vhost”<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_bindings -p my-vhost exchange_name queue_name</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_channels</b> [<span class="opt"><i class="arg">channelinfoitem ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Returns information on all current channels, the logical containers executing most AMQP commands. This includes channels that are part of ordinary AMQP connections, and channels created by various plug-ins and other extensions.<div class="spacer">
</div>
The <i class="arg">channelinfoitem</i> parameter is used to indicate which channel information items to include in the results. The column order in the results will match the order of the parameters. <i class="arg">channelinfoitem</i> can take any value from the list that follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process associated with the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">connection</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process associated with the connection to which the channel belongs.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Readable name for the channel.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">number</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The number of the channel, which uniquely identifies it within a connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">user</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Username associated with the channel.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">vhost</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Virtual host in which the channel operates.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">transactional</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
True if the channel is in transactional mode, false otherwise.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">confirm</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
True if the channel is in confirm mode, false otherwise.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">consumer_count</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of logical AMQP consumers retrieving messages via the channel.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages_unacknowledged</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of messages delivered via this channel but not yet acknowledged.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages_uncommitted</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of messages received in an as yet uncommitted transaction.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">acks_uncommitted</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of acknowledgements received in an as yet uncommitted transaction.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages_unconfirmed</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of published messages not yet confirmed. On channels not in confirm mode, this remains 0.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">prefetch_count</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
QoS prefetch limit for new consumers, 0 if unlimited.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">global_prefetch_count</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
QoS prefetch limit for the entire channel, 0 if unlimited.</dd>
</dl>
<div class="spacer">
</div>
If no <i class="arg">channelinfoitem</i> are specified then pid, user, consumer_count, and messages_unacknowledged are assumed.<div class="spacer">
</div>
For example, this command displays the connection process and count of unacknowledged messages for each channel:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_channels connection messages_unacknowledged</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_ciphers</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists cipher suites supported by encoding commands.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to list all cipher suites supported by encoding commands:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_ciphers</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_connections</b> [<span class="opt"><i class="arg">connectioninfoitem ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Returns TCP/IP connection statistics.<div class="spacer">
</div>
The <i class="arg">connectioninfoitem</i> parameter is used to indicate which connection information items to include in the results. The column order in the results will match the order of the parameters. <i class="arg">connectioninfoitem</i> can take any value from the list that follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process associated with the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Readable name for the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">port</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Server port.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">host</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Server hostname obtained via reverse DNS, or its IP address if reverse DNS failed or was disabled.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_port</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Peer port.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_host</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Peer hostname obtained via reverse DNS, or its IP address if reverse DNS failed or was not enabled.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Boolean indicating whether the connection is secured with SSL.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_protocol</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL protocol (e.g. “tlsv1”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_key_exchange</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL key exchange algorithm (e.g. “rsa”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_cipher</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL cipher algorithm (e.g. “aes_256_cbc”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_hash</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL hash function (e.g. “sha”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_cert_subject</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The subject of the peer's SSL certificate, in RFC4514 form.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_cert_issuer</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The issuer of the peer's SSL certificate, in RFC4514 form.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_cert_validity</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The period for which the peer's SSL certificate is valid.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">state</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Connection state; one of:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
starting</li>
<li class="list-bul" style="margin-top: 0.00em;">
tuning</li>
<li class="list-bul" style="margin-top: 0.00em;">
opening</li>
<li class="list-bul" style="margin-top: 0.00em;">
running</li>
<li class="list-bul" style="margin-top: 0.00em;">
flow</li>
<li class="list-bul" style="margin-top: 0.00em;">
blocking</li>
<li class="list-bul" style="margin-top: 0.00em;">
blocked</li>
<li class="list-bul" style="margin-top: 0.00em;">
closing</li>
<li class="list-bul" style="margin-top: 0.00em;">
closed</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">channels</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of channels using the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">protocol</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Version of the AMQP protocol in use; currently one of:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
{0,9,1}</li>
<li class="list-bul" style="margin-top: 0.00em;">
{0,8,0}</li>
</ul>
<div class="spacer">
</div>
Note that if a client requests an AMQP 0-9 connection, we treat it as AMQP 0-9-1.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">auth_mechanism</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SASL authentication mechanism used, such as “PLAIN”.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">user</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Username associated with the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">vhost</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Virtual host name with non-ASCII characters escaped as in C.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">timeout</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Connection timeout / negotiated heartbeat interval, in seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">frame_max</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Maximum frame size (bytes).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">channel_max</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Maximum number of channels on this connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">client_properties</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Informational properties transmitted by the client during connection establishment.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">recv_oct</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Octets received.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">recv_cnt</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Packets received.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">send_oct</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Octets send.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">send_cnt</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Packets sent.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">send_pend</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Send queue size.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">connected_at</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Date and time this connection was established, as timestamp.</dd>
</dl>
<div class="spacer">
</div>
If no <i class="arg">connectioninfoitem</i> are specified then user, peer host, peer port, time since flow control and memory block state are displayed.<div class="spacer">
</div>
For example, this command displays the send queue size and server port for each connection:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_connections send_pend port</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_consumers</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists consumers, i.e. subscriptions to a queue´s message stream. Each line printed shows, separated by tab characters, the name of the queue subscribed to, the id of the channel process via which the subscription was created and is managed, the consumer tag which uniquely identifies the subscription within a channel, a boolean indicating whether acknowledgements are expected for messages delivered to this consumer, an integer indicating the prefetch limit (with 0 meaning “none”), and any arguments for this consumer.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_exchanges</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] [<span class="opt"><i class="arg">exchangeinfoitem ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Returns exchange details. Exchange details of the “/” virtual host are returned if the <b class="flag">-p</b> flag is absent. The <b class="flag">-p</b> flag can be used to override this default.<div class="spacer">
</div>
The <i class="arg">exchangeinfoitem</i> parameter is used to indicate which exchange information items to include in the results. The column order in the results will match the order of the parameters. <i class="arg">exchangeinfoitem</i> can take any value from the list that follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the exchange with non-ASCII characters escaped as in C.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">type</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The exchange type, such as:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
direct</li>
<li class="list-bul" style="margin-top: 0.00em;">
topic</li>
<li class="list-bul" style="margin-top: 0.00em;">
headers</li>
<li class="list-bul" style="margin-top: 0.00em;">
fanout</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">durable</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Whether or not the exchange survives server restarts.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">auto_delete</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Whether the exchange will be deleted automatically when no longer used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">internal</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Whether the exchange is internal, i.e. cannot be directly published to by a client.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">arguments</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Exchange arguments.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">policy</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Policy name for applying to the exchange.</dd>
</dl>
<div class="spacer">
</div>
If no <i class="arg">exchangeinfoitem</i> are specified then exchange name and type are displayed.<div class="spacer">
</div>
For example, this command displays the name and type for each exchange of the virtual host named “my-vhost”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_exchanges -p my-vhost name type</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_hashes</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists hash functions supported by encoding commands.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to list all hash functions supported by encoding commands:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_hashes</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_queues</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] [<span class="opt"><b class="flag">--offline</b> | <b class="flag">--online</b> | <b class="flag">--local</b></span>] [<span class="opt"><i class="arg">queueinfoitem ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Returns queue details. Queue details of the “/” virtual host are returned if the <b class="flag">-p</b> flag is absent. The <b class="flag">-p</b> flag can be used to override this default.<div class="spacer">
</div>
Displayed queues can be filtered by their status or location using one of the following mutually exclusive options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--offline</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
List only those durable queues that are not currently available (more specifically, their master node isn't).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--online</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
List queues that are currently available (their master node is).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--local</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
List only those queues whose master process is located on the current node.</dd>
</dl>
<div class="spacer">
</div>
The <i class="arg">queueinfoitem</i> parameter is used to indicate which queue information items to include in the results. The column order in the results will match the order of the parameters. <i class="arg">queueinfoitem</i> can take any value from the list that follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the queue with non-ASCII characters escaped as in C.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">durable</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Whether or not the queue survives server restarts.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">auto_delete</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Whether the queue will be deleted automatically when no longer used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">arguments</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Queue arguments.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">policy</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Effective policy name for the queue.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Erlang process identifier of the queue.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">owner_pid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process of the connection which is the exclusive owner of the queue. Empty if the queue is non-exclusive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">exclusive</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
True if queue is exclusive (i.e. has owner_pid), false otherwise.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">exclusive_consumer_pid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process representing the channel of the exclusive consumer subscribed to this queue. Empty if there is no exclusive consumer.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">exclusive_consumer_tag</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Consumer tag of the exclusive consumer subscribed to this queue. Empty if there is no exclusive consumer.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages_ready</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of messages ready to be delivered to clients.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages_unacknowledged</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of messages delivered to clients but not yet acknowledged.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sum of ready and unacknowledged messages (queue depth).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages_ready_ram</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of messages from messages_ready which are resident in ram.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages_unacknowledged_ram</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of messages from messages_unacknowledged which are resident in ram.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages_ram</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Total number of messages which are resident in ram.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">messages_persistent</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Total number of persistent messages in the queue (will always be 0 for transient queues).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">message_bytes</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sum of the size of all message bodies in the queue. This does not include the message properties (including headers) or any overhead.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">message_bytes_ready</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">message_bytes</b> but counting only those messages ready to be delivered to clients.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">message_bytes_unacknowledged</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">message_bytes</b> but counting only those messages delivered to clients but not yet acknowledged.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">message_bytes_ram</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">message_bytes</b> but counting only those messages which are currently held in RAM.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">message_bytes_persistent</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">message_bytes</b> but counting only those messages which are persistent.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">head_message_timestamp</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The timestamp property of the first message in the queue, if present. Timestamps of messages only appear when they are in the paged-in state.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">disk_reads</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Total number of times messages have been read from disk by this queue since it started.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">disk_writes</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Total number of times messages have been written to disk by this queue since it started.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">consumers</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of consumers.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">consumer_utilisation</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Fraction of the time (between 0.0 and 1.0) that the queue is able to immediately deliver messages to consumers. This can be less than 1.0 if consumers are limited by network congestion or prefetch count.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">memory</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Bytes of memory allocated by the runtime for the queue, including stack, heap and internal structures.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">slave_pids</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If the queue is mirrored, this lists the IDs of the mirrors (follower replicas). To learn more, see the <a class="link-ext" href="https://www.rabbitmq.com/ha.html">RabbitMQ Mirroring guide</a></dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">synchronised_slave_pids</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If the queue is mirrored, this gives the IDs of the mirrors (follower replicas) which are synchronised with the master (leader). To learn more, see the <a class="link-ext" href="https://www.rabbitmq.com/ha.html">RabbitMQ Mirroring guide</a></dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">state</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The state of the queue. Normally “running”, but may be “{syncing, <i class="arg">message_count</i>}” if the queue is synchronising.<div class="spacer">
</div>
Queues which are located on cluster nodes that are currently down will be shown with a status of “down” (and most other <i class="arg">queueinfoitem</i> will be unavailable).</dd>
</dl>
<div class="spacer">
</div>
If no <i class="arg">queueinfoitem</i> are specified then queue name and depth are displayed.<div class="spacer">
</div>
For example, this command displays the depth and number of consumers for each queue of the virtual host named “my-vhost”<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_queues -p my-vhost messages consumers</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_unresponsive_queues</b> [<span class="opt"><b class="flag">--local</b></span>] [<span class="opt"><b class="flag">--queue-timeout</b> <i class="arg">milliseconds</i></span>] [<span class="opt"><i class="arg">column ...</i></span>] [<span class="opt"><b class="flag">--no-table-headers</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Tests queues to respond within timeout. Lists those which did not respond<div class="spacer">
</div>
For example, this command lists only those unresponsive queues whose master process is located on the current node.<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_unresponsive_queues --local name</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ping</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Checks that the node OS process is up, registered with EPMD and CLI tools can authenticate with it<div class="spacer">
</div>
Example:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl ping -n rabbit@hostname</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">report</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Generate a server status report containing a concatenation of all server status information for support purposes. The output should be redirected to a file when accompanying a support request.<div class="spacer">
</div>
For example, this command creates a server report which may be attached to a support request email:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl report &gt; server_report.txt</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">schema_info</b> [<span class="opt"><b class="flag">--no-table-headers</b></span>] [<span class="opt"><i class="arg">column ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists schema database tables and their properties<div class="spacer">
</div>
For example, this command lists the table names and their active replicas:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl schema_info name active_replicas</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">status</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Displays broker status information such as the running applications on the current Erlang node, RabbitMQ and Erlang versions, OS name, memory and file descriptor statistics. (See the <b class="flag">cluster_status</b> command to find out which nodes are clustered and running.)<div class="spacer">
</div>
For example, this command displays information about the RabbitMQ broker:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl status</span></div>
</blockquote>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x52756e74696d6520506172616d657465727320616e6420506f6c6963696573">Runtime Parameters and Policies</h3> Certain features of RabbitMQ (such as the Federation plugin) are controlled by dynamic, cluster-wide <span class="emph">parameters.</span> There are 2 kinds of parameters: parameters scoped to a virtual host and global parameters. Each vhost-scoped parameter consists of a component name, a name and a value. The component name and name are strings, and the value is a valid JSON document. A global parameter consists of a name and value. The name is a string and the value is an arbitrary Erlang data structure. Parameters can be set, cleared and listed. In general you should refer to the documentation for the feature in question to see how to set parameters.<div class="spacer">
</div>
Policies is a feature built on top of runtime parameters. Policies are used to control and modify the behaviour of queues and exchanges on a cluster-wide basis. Policies apply within a given vhost, and consist of a name, pattern, definition and an optional priority. Policies can be set, cleared and listed.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clear_global_parameter</b> <i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Clears a global runtime parameter. This is similar to <b class="flag">clear_parameter</b> but the key-value pair isn't tied to a virtual host.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the global runtime parameter being cleared.</dd>
</dl>
<div class="spacer">
</div>
For example, this command clears the global runtime parameter “mqtt_default_vhosts”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl clear_global_parameter mqtt_default_vhosts</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clear_parameter</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">component_name</i> <i class="arg">key</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Clears a parameter.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">component_name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the component for which the parameter is being cleared.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the parameter being cleared.</dd>
</dl>
<div class="spacer">
</div>
For example, this command clears the parameter “node01” for the “federation-upstream” component in the default virtual host:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl clear_parameter federation-upstream node01</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_global_parameters</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists all global runtime parameters. This is similar to <b class="flag">list_parameters</b> but the global runtime parameters are not tied to any virtual host.<div class="spacer">
</div>
For example, this command lists all global parameters:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_global_parameters</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_parameters</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists all parameters for a virtual host.<div class="spacer">
</div>
For example, this command lists all parameters in the default virtual host:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_parameters</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_global_parameter</b> <i class="arg">name</i> <i class="arg">value</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Sets a global runtime parameter. This is similar to <b class="flag">set_parameter</b> but the key-value pair isn't tied to a virtual host.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the global runtime parameter being set.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">value</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The value for the global runtime parameter, as a JSON term. In most shells you are very likely to need to quote this.</dd>
</dl>
<div class="spacer">
</div>
For example, this command sets the global runtime parameter “mqtt_default_vhosts” to the JSON term {"O=client,CN=guest":"/"}:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_global_parameter mqtt_default_vhosts '{"O=client,CN=guest":"/"}'</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_parameter</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">component_name</i> <i class="arg">name</i> <i class="arg">value</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Sets a parameter.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">component_name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the component for which the parameter is being set.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the parameter being set.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">value</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The value for the parameter, as a JSON term. In most shells you are very likely to need to quote this.</dd>
</dl>
<div class="spacer">
</div>
For example, this command sets the parameter “node01” for the “federation-upstream” component in the default virtual host to the following JSON “guest”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_parameter federation-upstream node01 '{"uri":"amqp://user:password@server/%2F","ack-mode":"on-publish"}'</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_policies</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists all policies for a virtual host.<div class="spacer">
</div>
For example, this command lists all policies in the default virtual host:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_policies</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_operator_policy</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] [<span class="opt"><b class="flag">--priority</b> <i class="arg">priority</i></span>] [<span class="opt"><b class="flag">--apply-to</b> <i class="arg">apply-to</i></span>] <i class="arg">name</i> <i class="arg">pattern</i> <i class="arg">definition</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Sets an operator policy that overrides a subset of arguments in user policies. Arguments are identical to those of <b class="flag">set_policy</b>.<div class="spacer">
</div>
Supported arguments are:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
expires</li>
<li class="list-bul" style="margin-top: 0.00em;">
message-ttl</li>
<li class="list-bul" style="margin-top: 0.00em;">
max-length</li>
<li class="list-bul" style="margin-top: 0.00em;">
max-length-bytes</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_policy</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] [<span class="opt"><b class="flag">--priority</b> <i class="arg">priority</i></span>] [<span class="opt"><b class="flag">--apply-to</b> <i class="arg">apply-to</i></span>] <i class="arg">name</i> <i class="arg">pattern</i> <i class="arg">definition</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Sets a policy.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the policy.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">pattern</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The regular expression, which when matches on a given resources causes the policy to apply.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">definition</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The definition of the policy, as a JSON term. In most shells you are very likely to need to quote this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">priority</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The priority of the policy as an integer. Higher numbers indicate greater precedence. The default is 0.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">apply-to</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Which types of object this policy should apply to. Possible values are:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
queues</li>
<li class="list-bul" style="margin-top: 0.00em;">
exchanges</li>
<li class="list-bul" style="margin-top: 0.00em;">
all</li>
</ul>
The default is <b class="flag">all ..</b></dd>
</dl>
<div class="spacer">
</div>
For example, this command sets the policy “federate-me” in the default virtual host so that built-in exchanges are federated:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_policy federate-me ^amq. '{"federation-upstream-set":"all"}'</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clear_policy</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Clears a policy.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the policy being cleared.</dd>
</dl>
<div class="spacer">
</div>
For example, this command clears the “federate-me” policy in the default virtual host:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl clear_policy federate-me</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clear_operator_policy</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Clears an operator policy. Arguments are identical to those of <b class="flag">clear_policy</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_operator_policies</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists operator policy overrides for a virtual host. Arguments are identical to those of <b class="flag">list_policies</b>.</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x5669727475616c20686f737473">Virtual hosts</h3> Note that <b class="name">rabbitmqctl</b> manages the RabbitMQ internal user database. Permissions for users from any alternative authorisation backend will not be visible to <b class="name">rabbitmqctl</b>.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">add_vhost</b> <i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host entry to create.</dd>
</dl>
<div class="spacer">
</div>
Creates a virtual host.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to create a new virtual host called “test”:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl add_vhost test</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clear_vhost_limits</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Clears virtual host limits.<div class="spacer">
</div>
For example, this command clears vhost limits in vhost “qa_env”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl clear_vhost_limits -p qa_env</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">delete_vhost</b> <i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host entry to delete.</dd>
</dl>
<div class="spacer">
</div>
Deletes a virtual host.<div class="spacer">
</div>
Deleting a virtual host deletes all its exchanges, queues, bindings, user permissions, parameters and policies.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to delete the virtual host called “test”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl delete_vhost a-vhost</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_vhost_limits</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] [<span class="opt"><b class="flag">--global</b></span>] [<span class="opt"><b class="flag">--no-table-headers</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Displays configured virtual host limits.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--global</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Show limits for all vhosts. Suppresses the <b class="flag">-p</b> parameter.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">restart_vhost</b> <i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host entry to restart.</dd>
</dl>
<div class="spacer">
</div>
Restarts a failed vhost data stores and queues.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to restart a virtual host called “test”:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl restart_vhost test</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_vhost_limits</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">definition</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Sets virtual host limits.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">definition</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The definition of the limits, as a JSON term. In most shells you are very likely to need to quote this.<div class="spacer">
</div>
Recognised limits are:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
max-connections</li>
<li class="list-bul" style="margin-top: 0.00em;">
max-queues</li>
</ul>
<div class="spacer">
</div>
Use a negative value to specify "no limit".</dd>
</dl>
<div class="spacer">
</div>
For example, this command limits the max number of concurrent connections in vhost “qa_env” to 64:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_vhost_limits -p qa_env '{"max-connections": 64}'</span></div>
</blockquote>
<div class="spacer">
</div>
This command limits the max number of queues in vhost “qa_env” to 256:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_vhost_limits -p qa_env '{"max-queues": 256}'</span></div>
</blockquote>
<div class="spacer">
</div>
This command clears the max number of connections limit in vhost “qa_env”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_vhost_limits -p qa_env '{"max-connections": -1}'</span></div>
</blockquote>
<div class="spacer">
</div>
This command disables client connections in vhost “qa_env”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_vhost_limits -p qa_env '{"max-connections": 0}'</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">trace_off</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host for which to stop tracing.</dd>
</dl>
<div class="spacer">
</div>
Stops tracing.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">trace_on</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host for which to start tracing.</dd>
</dl>
<div class="spacer">
</div>
Starts tracing. Note that the trace state is not persistent; it will revert to being off if the node is restarted.</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x436f6e66696775726174696f6e">Configuration</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">decode</b> <i class="arg">value</i> <i class="arg">passphrase</i> [<span class="opt"><b class="flag">--cipher</b> <i class="arg">cipher</i></span>] [<span class="opt"><b class="flag">--hash</b> <i class="arg">hash</i></span>] [<span class="opt"><b class="flag">--iterations</b> <i class="arg">iterations</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">value</i> <i class="arg">passphrase</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Value to decrypt (as produced by the encode command) and passphrase.<div class="spacer">
</div>
For example:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl decode '{encrypted, &lt;&lt;"..."&gt;&gt;}' mypassphrase</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--cipher</b> <i class="arg">cipher</i> <b class="flag">--hash</b> <i class="arg">hash</i> <b class="flag">--iterations</b> <i class="arg">iterations</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Options to specify the decryption settings. They can be used independently.<div class="spacer">
</div>
For example:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl decode --cipher blowfish_cfb64 --hash sha256 --iterations 10000 '{encrypted,&lt;&lt;"..."&gt;&gt;} mypassphrase</span></div>
</blockquote>
</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">encode</b> <i class="arg">value</i> <i class="arg">passphrase</i> [<span class="opt"><b class="flag">--cipher</b> <i class="arg">cipher</i></span>] [<span class="opt"><b class="flag">--hash</b> <i class="arg">hash</i></span>] [<span class="opt"><b class="flag">--iterations</b> <i class="arg">iterations</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">value</i> <i class="arg">passphrase</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Value to encrypt and passphrase.<div class="spacer">
</div>
For example:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl encode '&lt;&lt;"guest"&gt;&gt;' mypassphrase</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--cipher</b> <i class="arg">cipher</i> <b class="flag">--hash</b> <i class="arg">hash</i> <b class="flag">--iterations</b> <i class="arg">iterations</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Options to specify the encryption settings. They can be used independently.<div class="spacer">
</div>
For example:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl encode --cipher blowfish_cfb64 --hash sha256 --iterations 10000 '&lt;&lt;"guest"&gt;&gt;' mypassphrase</span></div>
</blockquote>
</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_cluster_name</b> <i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Sets the cluster name to <i class="arg">name</i>. The cluster name is announced to clients on connection, and used by the federation and shovel plugins to record where a message has been. The cluster name is by default derived from the hostname of the first node in the cluster, but can be changed.<div class="spacer">
</div>
For example, this sets the cluster name to “london”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl set_cluster_name london</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_disk_free_limit</b> <i class="arg">disk_limit</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">disk_limit</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Lower bound limit as an integer in bytes or a string with memory unit symbols (see vm_memory_high_watermark), e.g. 512M or 1G. Once free disk space reaches the limit, a disk alarm will be set.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_disk_free_limit mem_relative</b> <i class="arg">fraction</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">fraction</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Limit relative to the total amount available RAM as a non-negative floating point number. Values lower than 1.0 can be dangerous and should be used carefully.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_log_level</b> [<span class="opt"><i class="arg">log_level</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Sets log level in the running node<div class="spacer">
</div>
Supported <i class="arg">type</i> values are:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
debug</li>
<li class="list-bul" style="margin-top: 0.00em;">
info</li>
<li class="list-bul" style="margin-top: 0.00em;">
warning</li>
<li class="list-bul" style="margin-top: 0.00em;">
error</li>
<li class="list-bul" style="margin-top: 0.00em;">
none</li>
</ul>
<div class="spacer">
</div>
Example:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl log_level debug</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_vm_memory_high_watermark</b> <i class="arg">fraction</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">fraction</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The new memory threshold fraction at which flow control is triggered, as a floating point number greater than or equal to 0.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set_vm_memory_high_watermark</b> [<span class="opt">absolute</span>] <i class="arg">memory_limit</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">memory_limit</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The new memory limit at which flow control is triggered, expressed in bytes as an integer number greater than or equal to 0 or as a string with memory unit symbol(e.g. 512M or 1G). Available unit symbols are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">k</b>, <b class="flag">kiB</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
kibibytes (2^10 bytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">M</b>, <b class="flag">MiB</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
mebibytes (2^20 bytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">G</b>, <b class="flag">GiB</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
gibibytes (2^30 bytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">kB</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
kilobytes (10^3 bytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">MB</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
megabytes (10^6 bytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">GB</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
gigabytes (10^9 bytes)</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x4665617475726520666c616773">Feature flags</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">enable_feature_flag</b> <i class="arg">feature_flag</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Enables a feature flag on the target node.<div class="spacer">
</div>
Example:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl enable_feature_flag quorum_queue</span></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_feature_flags</b> [<span class="opt"><i class="arg">column ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Lists feature flags<div class="spacer">
</div>
Supported <i class="arg">column</i> values are:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
name</li>
<li class="list-bul" style="margin-top: 0.00em;">
state</li>
<li class="list-bul" style="margin-top: 0.00em;">
stability</li>
<li class="list-bul" style="margin-top: 0.00em;">
provided_by</li>
<li class="list-bul" style="margin-top: 0.00em;">
desc</li>
<li class="list-bul" style="margin-top: 0.00em;">
doc_url</li>
</ul>
<div class="spacer">
</div>
Example:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl list_feature_flags name state</span></div>
</blockquote>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x436f6e6e656374696f6e204f7065726174696f6e73">Connection Operations</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">close_all_connections</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] [<span class="opt"><b class="flag">--global</b></span>] [<span class="opt"><b class="flag">--per-connection-delay</b> <i class="arg">delay</i></span>] [<span class="opt"><b class="flag">--limit</b> <i class="arg">limit</i></span>] <i class="arg">explanation</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-p</b> <i class="arg">vhost</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the virtual host for which connections should be closed. Ignored when <b class="flag">--global</b> is specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--global</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If connections should be close for all vhosts. Overrides <b class="flag">-p</b></dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--per-connection-delay</b> <i class="arg">delay</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Time in milliseconds to wait after each connection closing.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--limit</b> <i class="arg">limit</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of connection to close. Only works per vhost. Ignored when <b class="flag">--global</b> is specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">explanation</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Explanation string.</dd>
</dl>
<div class="spacer">
</div>
Instructs the broker to close all connections for the specified vhost or entire RabbitMQ node.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to close 10 connections on “qa_env” vhost, passing the explanation “Please close”:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl close_all_connections -p qa_env --limit 10 'Please close'</span></div>
</blockquote>
<div class="spacer">
</div>
This command instructs broker to close all connections to the node:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl close_all_connections --global</span></div>
</blockquote>
<div style="height: 1.00em;">
 </div>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">close_connection</b> <i class="arg">connectionpid</i> <i class="arg">explanation</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">connectionpid</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process associated with the connection to close.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">explanation</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Explanation string.</dd>
</dl>
<div class="spacer">
</div>
Instructs the broker to close the connection associated with the Erlang process id <i class="arg">connectionpid</i> (see also the <b class="flag">list_connections</b> command), passing the <i class="arg">explanation</i> string to the connected client as part of the AMQP connection shutdown protocol.<div class="spacer">
</div>
For example, this command instructs the RabbitMQ broker to close the connection associated with the Erlang process id “&lt;rabbit@tanto.4262.0&gt;”, passing the explanation “go away” to the connected client:<div style="height: 1.00em;">
 </div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span xmlns="http://www.w3.org/1999/xhtml" class="code lit">rabbitmqctl close_connection “&lt;rabbit@tanto.4262.0&gt;” “go away”</span></div>
</blockquote>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x4d697363">Misc</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">eval</b> <i class="arg">expression</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div class="spacer">
</div>
Evaluates an Erlang expression on the target node</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x5175657565204f7065726174696f6e73">Queue Operations</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">delete_queue</b> <i class="arg">queue_name</i> [<span class="opt"><b class="flag">--if-empty</b> | <b class="flag">-e</b></span>] [<span class="opt"><b class="flag">--if-unused</b> | <b class="flag">-u</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">queue_name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the queue to delete.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">--if-empty</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Delete the queue if it is empty (has no messages ready for delivery)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">--if-unused</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Delete the queue only if it has no consumers</dd>
</dl>
<div class="spacer">
</div>
Deletes a queue.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">purge_queue</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">queue</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">queue</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The name of the queue to purge.</dd>
</dl>
<div class="spacer">
</div>
Purges a queue (removes all messages in it).</dd>
</dl>
</div>
</div>
<div class="section">
<h2 id="x504c5547494e20434f4d4d414e4453">PLUGIN COMMANDS</h2> RabbitMQ plugins can extend rabbitmqctl tool to add new commands when enabled. Currently available commands can be found in <b class="flag">rabbitmqctl help</b> output. Following commands are added by RabbitMQ plugins, available in default distribution:<div class="subsection">
<h3 id="x53686f76656c20706c7567696e">Shovel plugin</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">shovel_status</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Prints a list of configured Shovels</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">delete_shovel</b> [<span class="opt"><b class="flag">-p</b> <i class="arg">vhost</i></span>] <i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Instructs the RabbitMQ node to delete the configured shovel by <i class="arg">name</i>.</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x46656465726174696f6e20706c7567696e">Federation plugin</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">federation_status</b> [<span class="opt"><b class="flag">--only-down</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Prints a list of federation links.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--only-down</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Only list federation links which are not running.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">restart_federation_link</b> <i class="arg">link_id</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Instructs the RabbitMQ node to restart the federation link with specified <i class="arg">link_id</i>.</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x414d515020312e3020706c7567696e">AMQP 1.0 plugin</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_amqp10_connections</b> [<span class="opt"><i class="arg">amqp10_connectioninfoitem ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Similar to the <b class="flag">list_connections</b> command, but returns fields which make sense for AMQP-1.0 connections. <i class="arg">amqp10_connectioninfoitem</i> parameter is used to indicate which connection information items to include in the results. The column order in the results will match the order of the parameters. <i class="arg">amqp10_connectioninfoitem</i> can take any value from the list that follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process associated with the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">auth_mechanism</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SASL authentication mechanism used, such as “PLAIN”.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">host</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Server hostname obtained via reverse DNS, or its IP address if reverse DNS failed or was disabled.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">frame_max</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Maximum frame size (bytes).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">timeout</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Connection timeout / negotiated heartbeat interval, in seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">user</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Username associated with the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">state</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Connection state; one of:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
starting</li>
<li class="list-bul" style="margin-top: 0.00em;">
waiting_amqp0100</li>
<li class="list-bul" style="margin-top: 0.00em;">
securing</li>
<li class="list-bul" style="margin-top: 0.00em;">
running</li>
<li class="list-bul" style="margin-top: 0.00em;">
blocking</li>
<li class="list-bul" style="margin-top: 0.00em;">
blocked</li>
<li class="list-bul" style="margin-top: 0.00em;">
closing</li>
<li class="list-bul" style="margin-top: 0.00em;">
closed</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">recv_oct</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Octets received.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">recv_cnt</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Packets received.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">send_oct</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Octets send.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">send_cnt</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Packets sent.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Boolean indicating whether the connection is secured with SSL.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_protocol</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL protocol (e.g. “tlsv1”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_key_exchange</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL key exchange algorithm (e.g. “rsa”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_cipher</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL cipher algorithm (e.g. “aes_256_cbc”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_hash</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL hash function (e.g. “sha”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_cert_subject</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The subject of the peer's SSL certificate, in RFC4514 form.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_cert_issuer</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The issuer of the peer's SSL certificate, in RFC4514 form.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_cert_validity</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The period for which the peer's SSL certificate is valid.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">node</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The node name of the RabbitMQ node to which connection is established.</dd>
</dl>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x4d51545420706c7567696e">MQTT plugin</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_mqtt_connections</b> [<span class="opt"><i class="arg">mqtt_connectioninfoitem</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Similar to the <b class="flag">list_connections</b> command, but returns fields which make sense for MQTT connections. <i class="arg">mqtt_connectioninfoitem</i> parameter is used to indicate which connection information items to include in the results. The column order in the results will match the order of the parameters. <i class="arg">mqtt_connectioninfoitem</i> can take any value from the list that follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">host</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Server hostname obtained via reverse DNS, or its IP address if reverse DNS failed or was disabled.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">port</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Server port.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_host</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Peer hostname obtained via reverse DNS, or its IP address if reverse DNS failed or was not enabled.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_port</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Peer port.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">protocol</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
MQTT protocol version, which can be on of the following:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
{'MQTT', N/A}</li>
<li class="list-bul" style="margin-top: 0.00em;">
{'MQTT', 3.1.0}</li>
<li class="list-bul" style="margin-top: 0.00em;">
{'MQTT', 3.1.1}</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">channels</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of channels using the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">channel_max</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Maximum number of channels on this connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">frame_max</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Maximum frame size (bytes).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">client_properties</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Informational properties transmitted by the client during connection establishment.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Boolean indicating whether the connection is secured with SSL.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_protocol</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL protocol (e.g. “tlsv1”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_key_exchange</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL key exchange algorithm (e.g. “rsa”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_cipher</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL cipher algorithm (e.g. “aes_256_cbc”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_hash</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL hash function (e.g. “sha”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">conn_name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Readable name for the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">connection_state</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Connection state; one of:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
starting</li>
<li class="list-bul" style="margin-top: 0.00em;">
running</li>
<li class="list-bul" style="margin-top: 0.00em;">
blocked</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">connection</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process associated with the internal amqp direct connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">consumer_tags</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A tuple of consumer tags for QOS0 and QOS1.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">message_id</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The last Packet ID sent in a control message.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">client_id</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
MQTT client identifier for the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clean_sess</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
MQTT clean session flag.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">will_msg</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
MQTT Will message sent in CONNECT frame.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">exchange</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Exchange to route MQTT messages configured in rabbitmq_mqtt application environment.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_login_name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL peer cert auth name</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">retainer_pid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process associated with retain storage for the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">user</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Username associated with the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">vhost</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Virtual host name with non-ASCII characters escaped as in C.</dd>
</dl>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x53544f4d5020706c7567696e">STOMP plugin</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">list_stomp_connections</b> [<span class="opt"><i class="arg">stomp_connectioninfoitem</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Similar to the <b class="flag">list_connections</b> command, but returns fields which make sense for STOMP connections. <i class="arg">stomp_connectioninfoitem</i> parameter is used to indicate which connection information items to include in the results. The column order in the results will match the order of the parameters. <i class="arg">stomp_connectioninfoitem</i> can take any value from the list that follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">conn_name</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Readable name for the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">connection</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Id of the Erlang process associated with the internal amqp direct connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">connection_state</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Connection state; one of:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
running</li>
<li class="list-bul" style="margin-top: 0.00em;">
blocking</li>
<li class="list-bul" style="margin-top: 0.00em;">
blocked</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">session_id</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
STOMP protocol session identifier</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">channel</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
AMQP channel associated with the connection</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">version</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Negotiated STOMP protocol version for the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">implicit_connect</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates if the connection was established using implicit connect (without CONNECT frame)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">auth_login</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Effective username for the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">auth_mechanism</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
STOMP authorization mechanism. Can be one of:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
config</li>
<li class="list-bul" style="margin-top: 0.00em;">
ssl</li>
<li class="list-bul" style="margin-top: 0.00em;">
stomp_headers</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">port</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Server port.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">host</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Server hostname obtained via reverse DNS, or its IP address if reverse DNS failed or was not enabled.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_port</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Peer port.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">peer_host</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Peer hostname obtained via reverse DNS, or its IP address if reverse DNS failed or was not enabled.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">protocol</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
STOMP protocol version, which can be on of the following:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
{'STOMP', 0}</li>
<li class="list-bul" style="margin-top: 0.00em;">
{'STOMP', 1}</li>
<li class="list-bul" style="margin-top: 0.00em;">
{'STOMP', 2}</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">channels</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of channels using the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">channel_max</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Maximum number of channels on this connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">frame_max</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Maximum frame size (bytes).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">client_properties</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Informational properties transmitted by the client during connection</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Boolean indicating whether the connection is secured with SSL.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_protocol</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
TLS protocol (e.g. “tlsv1”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_key_exchange</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
TLS key exchange algorithm (e.g. “rsa”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_cipher</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
TLS cipher algorithm (e.g. “aes_256_cbc”).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ssl_hash</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
SSL hash function (e.g. “sha”).</dd>
</dl>
</dd>
</dl>
</div>
<div class="subsection">
<h3 id="x4d616e6167656d656e74206167656e7420706c7567696e">Management agent plugin</h3><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">reset_stats_db</b> [<span class="opt"><b class="flag">--all</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Reset management stats database for the RabbitMQ node.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">--all</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Reset stats database for all nodes in the cluster.</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section">
<h2 id="x53454520414c534f">SEE ALSO</h2> <a class="link-man" href="rabbitmq-diagnostics.8.html">rabbitmq-diagnostics(8)</a>, <a class="link-man" href="rabbitmq-plugins.8.html">rabbitmq-plugins(8)</a>, <a class="link-man" href="rabbitmq-server.8.html">rabbitmq-server(8)</a>, <a class="link-man" href="rabbitmq-queues.8.html">rabbitmq-queues(8)</a>, <a class="link-man" href="rabbitmq-upgrade.8.html">rabbitmq-upgrade(8)</a>, <a class="link-man" href="rabbitmq-service.8.html">rabbitmq-service(8)</a>, <a class="link-man" href="rabbitmq-env.conf.5.html">rabbitmq-env.conf(5)</a>, <a class="link-man" href="rabbitmq-echopid.8.html">rabbitmq-echopid(8)</a></div>
<div class="section">
<h2 id="x415554484f52">AUTHOR</h2> <span class="author">The RabbitMQ Team</span> &lt;<a class="link-mail" href="mailto:info@rabbitmq.com">info@rabbitmq.com</a>&gt;</div>
</div>
    </div>
  <div id="help-and-feedback"><h2>Getting Help and Providing Feedback</h2><p>
                    If you have questions about the contents of this guide or
                    any other topic related to RabbitMQ, don't hesitate to ask them
                    on the <a href="https://groups.google.com/forum/#!forum/rabbitmq-users">RabbitMQ mailing list</a>.
                  </p></div><div id="contribute"><h2>Help Us Improve the Docs &lt;3</h2><p>
                    If you'd like to contribute an improvement to the site,
                    its source is <a href="https://github.com/rabbitmq/rabbitmq-website">available on GitHub</a>.
                    Simply fork the repository and submit a pull request. Thank you!
                  </p></div></div><div id="right-nav"><div id="in-this-section"><h4>In This Section</h4><ul>
     <li><a href="/admin-guide.html" class="selected">Server Documentation</a><ul>
       <li><a href="/configure.html">Configuration</a></li>
       <li><a href="/management.html">Management UI</a></li>
       <li><a href="/monitoring.html">Monitoring</a></li>
       <li><a href="/production-checklist.html">Production Checklist</a></li>
       <li><a href="/ssl.html">TLS Support</a></li>
       <li><a href="/streams.html">Streams</a></li>
       <li><a href="/feature-flags.html">Feature Flags</a></li>
       <li><a href="/distributed.html">Distributed RabbitMQ</a></li>
       <li><a href="/clustering.html">Clustering</a></li>
       <li><a href="/reliability.html">Reliable Delivery</a></li>
       <li><a href="/definitions.html">Schema Definition Export and Import</a></li>
       <li><a href="/backup.html">Backup and restore</a></li>
       <li><a href="/alarms.html">Alarms</a></li>
       <li><a href="/memory-use.html">Memory Use</a></li>
       <li><a href="/networking.html">Networking</a></li>
       <li><a href="/vhosts.html">Virtual Hosts</a></li>
       <li><a href="/pacemaker.html">High Availability (pacemaker)</a></li>
       <li><a href="/access-control.html">Access Control (Authorisation)</a></li>
       <li><a href="/authentication.html">Authentication Mechanisms</a></li>
       <li><a href="/ldap.html">LDAP</a></li>
       <li><a href="/lazy-queues.html">Lazy Queues</a></li>
       <li><a href="/event-exchange.html">Internal Event Exchange</a></li>
       <li><a href="/firehose.html">Firehose (Message Tracing)</a></li>
       <li><a href="/manpages.html" class="selected">Manual Pages</a><ul>
         <li><a href="/rabbitmqctl.8.html" class="selected">rabbitmqctl</a></li>
         <li><a href="/rabbitmq-diagnostics.8.html">rabbitmq-diagnostics</a></li>
         <li><a href="/rabbitmq-plugins.8.html">rabbitmq-plugins</a></li>
         <li><a href="/rabbitmq-upgrade.8.html">rabbitmq-upgrade</a></li>
         <li><a href="/rabbitmq-queues.8.html">rabbitmq-queues</a></li>
         <li><a href="/rabbitmq-server.8.html">rabbitmq-server</a></li>
         <li><a href="/rabbitmq-service.8.html">rabbitmq-service</a></li>
         <li><a href="/rabbitmq-echopid.8.html">rabbitmq-echopid</a></li>
         <li><a href="/rabbitmq-env.conf.5.html">rabbitmq-env.conf</a></li>
       </ul></li>
       <li><a href="/windows-quirks.html">Windows Quirks</a></li>
       
       
       
       
     </ul></li>
     <li><a href="/clients.html">Client Documentation</a></li>
     <li><a href="/plugins.html">Plugins</a></li>
     <li><a href="/news.html">News</a></li>
     <li><a href="/protocol.html">Protocol</a></li>
     <li><a href="/extensions.html">Our Extensions</a></li>
     <li><a href="/build.html">Building</a></li>
     
     <li><a href="/mpl.html">License</a></li>
   </ul></div></div></div><div class="clear"></div><div class="pageFooter"><div class="container"></div><div class="container"><div class="rabbit-logo"><a href="/"><img src="/img/logo-rabbitmq-white.svg" alt="RabbitMQ" /></a></div><ul class="footerNav"><li><a href="/#features">Features</a></li><li><a href="/#getstarted">Get Started</a></li><li><a href="/#support">Support</a></li><li><a href="/#community">Community</a></li><li><a href="/documentation.html">Docs</a></li></ul><p id="copyright">
          Copyright © 2007-2020 <a href="https://tanzu.vmware.com/">VMware</a>, Inc. or its affiliates. All rights reserved.
          <a href="https://pivotal.io/legal">Terms of Use</a>,
          <a href="https://pivotal.io/privacy-policy">Privacy</a> and
          <a href="/trademark-guidelines.html">Trademark Guidelines</a><br /><a id="teconsent"></a></p></div></div></div><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript">
        // code highlighting
        window.addEventListener("load", function() {
          const selectors = "pre.lang-bash, \
                             pre.lang-csharp, \
                             pre.lang-elixir, \
                             pre.lang-erlang, \
                             pre.lang-go, \
                             pre.lang-groovy, \
                             pre.lang-haskell, \
                             pre.lang-html, \
                             pre.lang-ini, \
                             pre.lang-java, \
                             pre.lang-javascript, \
                             pre.lang-json, \
                             pre.lang-makefile, \
                             pre.lang-objectivec, \
                             pre.lang-php, \
                             pre.lang-plaintext, \
                             pre.lang-powershell, \
                             pre.lang-python, \
                             pre.lang-ruby, \
                             pre.lang-swift, \
                             pre.lang-yaml, \
                             pre.lang-xml";
          document.querySelectorAll(selectors).forEach(function(el) {
            hljs.highlightBlock(el);
          });
        });
      </script></body>
</html>
