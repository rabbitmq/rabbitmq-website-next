<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="73d8ba46-8c12-43f6-8c22-24aa21b8d93d" name="onetrust-data-domain" /><meta content="https://tags.tiqcdn.com/utag/vmware/microsites-privacy/prod/utag.js" name="microsites-utag" /><script src="https://d1fto35gcfffzn.cloudfront.net/assets/jquery-1.11.2.min.js"></script><script src="//www.vmware.com/files/templates/inc/utag_data.js"></script><script src="//tags.tiqcdn.com/utag/vmware/microsites-privacy/prod/utag.sync.js"></script><script>function OptanonWrapper() { { window.dataLayer.push({ event: 'OneTrustGroupsUpdated' }); } }</script><script src="/js/gtm.js"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="googlebot" content="NOODP" /><meta name="google-site-verification" content="nSYeDgyKM9mw5CWcZuD0xu7iSWXlJijAlg9rcxVOYf4" /><meta name="google-site-verification" content="6UEaC3SWhpGQvqRnSJIEm2swxXpM5Adn4dxZhFsNdw0" /><meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="viewport" name="viewport" /><link href="https://fonts.googleapis.com/css?family=Raleway:400,500,600,700" rel="stylesheet" /><link rel="stylesheet" href="/css/rabbit.css" type="text/css" /><link rel="stylesheet" href="/css/highlightjs_style.css" type="text/css" /><link rel="stylesheet" href="/css/rabbit-next.css" type="text/css" /><!--[if IE 6]>
      <link rel="stylesheet" href="/css/rabbit-ie6.css" type="text/css" />
      <![endif]--><link rel="icon" type="/image/vnd.microsoft.icon" href="/favicon.ico" /><link rel="stylesheet" href="/css/tutorial.css" type="text/css" /><script async="true" type="text/javascript" src="/js/site.js"></script><title>(Untitled) â€” RabbitMQ</title></head>
  <body id="release-notes/3.8.15"><div id="outerContainer"><div class="container"><div class="rabbit-logo"><a href="/"><img src="/img/logo-rabbitmq.svg" alt="RabbitMQ" /></a></div><a class="btn menubtn" onclick="showHide()">Menu <img src="/img/carrot-down-white.svg" /></a><div class="mobilemenuicon" onclick="showHide()"><img src="/img/mobile-menu-icon.svg" /></div><div id="nav"><ul id="mainNav"><li><a href="/#features">Features</a></li><li><a href="/#getstarted">Get Started</a></li><li><a href="/#support">Support</a></li><li><a href="/#community">Community</a></li><li><a href="/documentation.html">Docs</a></li></ul></div></div><div class="nav-separator"></div><div id="innerContainer" class="container"><div id="left-content"><h1>(Untitled)</h1>
<h2>RabbitMQ 3.8.15</h2>
<p>RabbitMQ <span class="code ">3.8.15</span> is a maintenance release that includes two security patches.</p>
<p>All users are advised to consult the set of changes in this release but then
<strong>upgrade straight to <span class="code ">3.8.16</span> or a newer version if available</strong> and skip this release.</p>
<h3>Security Patches</h3>
<p>This release addresses two CVEs. We will publicly share all details once CVE IDs have been allocated
and published. In the meantime, all users are encouraged to upgrade to this release.</p>
<p>Our team would like to thank</p>
<ul>
<li>Jonathan Knudsen from the Synopsys Cybersecurity Research Center (CyRC)</li>
<li>Robert Chen from DeepSurface Security</li>
</ul>
<p>for responsibly disclosing the vulnerabilities and helping assess and test
the patches.</p>
<h3>Obtaining Packages</h3>
<p>This is the first release in the <a href="https://blog.rabbitmq.com/posts/2021/03/migrate-off-of-bintray/">post-Bintray era</a>.
Because Bintray shut down on May 1st, 2021, this version is not distributed via Bintray.
From now on, releases are distributed via GitHub, <a href="https://cloudsmith.io/~rabbitmq/repos/">Cloudsmith</a>,
and <a href="https://packagecloud.io/rabbitmq">PackageCloud</a>.</p>
<h3>Erlang/OTP Compatibility Notes</h3>
<p>This release is the <a href="https://blog.rabbitmq.com/posts/2021/03/erlang-24-support-roadmap/">last release to support Erlang 22.3</a>.
<a href="http://blog.erlang.org/OTP-23-Highlights/">Erlang 23</a> is highly recommended
for best forward compatibility with future RabbitMQ versions.</p>
<p><a href="https://www.rabbitmq.com/which-erlang.html#erlang-repositories">Provisioning Latest Erlang Releases</a> explains
what package repositories and tools can be used to provision a recent version of Erlang <span class="code ">23.x</span>.</p>
<h2>Upgrade and Compatibility Notes</h2>
<h3>Upgrade Doc Guides and Change Log</h3>
<p>See <a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.0">3.8.0 release notes</a> upgrade and
compatibility notes first if upgrading from an earlier release series (e.g. <span class="code ">3.7.x</span>).</p>
<p>See the <a href="https://www.rabbitmq.com/upgrade.html">Upgrading guide</a> for general documentation on upgrades and
<a href="https://www.rabbitmq.com/changelog.html">RabbitMQ change log</a> for release notes of other releases.</p>
<h3>Getting Help</h3>
<p>Any questions about this release, upgrades or RabbitMQ in general are welcome on the <a href="https://groups.google.com/forum/#!forum/rabbitmq-users">RabbitMQ mailing list</a>
and <a href="https://rabbitmq-slack.herokuapp.com/">RabbitMQ community Slack</a>.</p>
<h2>Changes Worth Mentioning</h2>
<h3>Core Server</h3>
<h4>Bug Fixes</h4>
<ul>
<li>Quorum queues did not take snapshots as frequently as they are expected to with some configurations.
   This resulted in much higher peak disk space usage for queues that did not have a meaningful backlog.</li>
</ul>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/issues/2974">#2974</a></p>
<ul>
<li>
<p>Quorum queue name was unintentionally limited: the length of virtual host and actual queue name
   was limited to 254 characters. Quorum queues that had longer names failed to be declared.</p>
</li>
<li>
<p>Deleting a quorum queue would leave some of its internal metrics data around.</p>
</li>
</ul>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/2846">#2846</a></p>
<ul>
<li>Client destination address is now obtained w.r.t. the <a href="https://www.rabbitmq.com/networking.html#proxy-protocol">Proxy protocol</a> settings.</li>
</ul>
<p>Contributed by @carlhoerberg (CloudAMQP).</p>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/2942">#2942</a></p>
<h4>Enhancements</h4>
<ul>
<li>Quorum queue consumers that consume messages and do not acknowledge them will now have a 15 minute
   acknowledgement timeout applied to them by default. Operators can increase the timeout if necessary.</li>
</ul>
<p>Such consumers delay or even prevent on disk data compaction, which can run a node out of disk
   space much earlier than anticipated.</p>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/2990">#2990</a></p>
<ul>
<li>Channel interceptors now can return channel-level exceptions.</li>
</ul>
<p>Contributed by Ayanda @Ayanda-D Dube.</p>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/2989">#2989</a></p>
<h3>CLI Tools</h3>
<h4>Bug Fixes</h4>
<ul>
<li><span class="code ">rabbitmq-diagnostics status</span> could run into an exception when formatting responses
   from nodes where high VM memory watermark was configured using <span class="code ">advanced.config</span>.</li>
</ul>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/issues/2964">#2964</a></p>
<ul>
<li><span class="code ">rabbitmq-queues rebalance</span> will no longer pick nodes <a href="https://www.rabbitmq.com/upgrade.html#maintenance-mode">under maintenance</a>
   as new queue leader placement candidates.</li>
</ul>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/2993">#2993</a></p>
<h4>Enhancements</h4>
<ul>
<li><span class="code ">rabbitmq-diagnostics remote_shell</span> is a new command that opens a remote Erlang shell
   to the target node. This simplifies troubleshooting of a running node.</li>
</ul>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/2860">#2860</a></p>
<ul>
<li><span class="code ">rabbitmq-queues await_online_quorum_plus_one</span> is now a no-op in a single node cluster
   since the command does not make sense when there is only one node.</li>
</ul>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/2890">#2890</a></p>
<h3>Management Plugin</h3>
<h4>Bug Fixes</h4>
<ul>
<li>When a virtual host was created with tags via the HTTP API, the tags were unintentionally
   concatenated together.</li>
</ul>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/2982">#2982</a></p>
<ul>
<li>More precise UI description for message consumption mode that is destructive (consumes in automatic acknowledgement mode).</li>
</ul>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/3011">#3011</a></p>
<h3>AWS Peer Discovery Plugin</h3>
<h4>Enhancements</h4>
<ul>
<li><a href="https://www.rabbitmq.com/cluster-formation.html#peer-discovery-aws">AWS peer discovery mechanism</a> now supports
   <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html">Instance Metadata Service v2</a>.
   In case it is not available, requests will fall back to the original metadata service endpoint.</li>
</ul>
<p>The v2 endpoint offers substantial security improvements and is one of
   the <a href="https://docs.aws.amazon.com/securityhub/latest/userguide/securityhub-standards-fsbp-controls.html#ec2-8-remediation">AWS best practices</a>.</p>
<p>Contributed by @thuandb (AWS).</p>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/pull/2952">#2952</a></p>
<h3>Auth Mechanism TLS Plugin</h3>
<h4>Enhancements</h4>
<ul>
<li>The plugin now has limited support for username extraction from SAN of type "other name".
   Note that the type by definition supports arbitrary values, so supporting all possible
   inputs is not realistic.</li>
</ul>
<p>Contributed by @Thibi2000.</p>
<p>GitHub issue: <a href="https://github.com/rabbitmq/rabbitmq-server/issues/2983">#2983</a>, <a href="https://github.com/rabbitmq/rabbitmq-server/issues/2985">#2985</a></p>
<h2>Dependency Upgrades</h2>
<p>There were no dependency changes.</p>
<h2>Source Code Archives</h2>
<p>To obtain source code of the entire distribution, please download the archive named <span class="code ">rabbitmq-server-3.8.15.tar.xz</span>
instead of the source tarball produced by GitHub.</p><div id="help-and-feedback"><h2>Getting Help and Providing Feedback</h2><p>
                    If you have questions about the contents of this guide or
                    any other topic related to RabbitMQ, don't hesitate to ask them
                    on the <a href="https://groups.google.com/forum/#!forum/rabbitmq-users">RabbitMQ mailing list</a>.
                  </p></div><div id="contribute"><h2>Help Us Improve the Docs &lt;3</h2><p>
                    If you'd like to contribute an improvement to the site,
                    its source is <a href="https://github.com/rabbitmq/rabbitmq-website">available on GitHub</a>.
                    Simply fork the repository and submit a pull request. Thank you!
                  </p></div></div><div id="right-nav"></div></div><div class="clear"></div><div class="pageFooter"><div class="container"></div><div class="container"><div class="rabbit-logo"><a href="/"><img src="/img/logo-rabbitmq-white.svg" alt="RabbitMQ" /></a></div><ul class="footerNav"><li><a href="/#features">Features</a></li><li><a href="/#getstarted">Get Started</a></li><li><a href="/#support">Support</a></li><li><a href="/#community">Community</a></li><li><a href="/documentation.html">Docs</a></li></ul><p id="copyright">
          Copyright Â© 2007-2021 <a href="https://tanzu.vmware.com/">VMware</a>, Inc. or its affiliates. All rights reserved.
          <a href="https://www.vmware.com/help/legal.html">Terms of Use</a> â€¢
          <a href="https://www.vmware.com/help/privacy.html">Privacy</a> â€¢
          <a href="/trademark-guidelines.html">Trademark Guidelines</a> â€¢
          <a href="https://www.vmware.com/help/privacy/california-privacy-rights.html">Your California Privacy Rights</a> â€¢
          <a class="ot-sdk-show-settings">Cookie Settings</a><br /><a id="teconsent"></a></p></div></div></div><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript">
        // code highlighting
        window.addEventListener("load", function() {
          const selectors = "pre.lang-bash, \
                             pre.lang-csharp, \
                             pre.lang-elixir, \
                             pre.lang-erlang, \
                             pre.lang-go, \
                             pre.lang-groovy, \
                             pre.lang-haskell, \
                             pre.lang-html, \
                             pre.lang-ini, \
                             pre.lang-java, \
                             pre.lang-javascript, \
                             pre.lang-json, \
                             pre.lang-makefile, \
                             pre.lang-objectivec, \
                             pre.lang-php, \
                             pre.lang-plaintext, \
                             pre.lang-powershell, \
                             pre.lang-python, \
                             pre.lang-ruby, \
                             pre.lang-swift, \
                             pre.lang-yaml, \
                             pre.lang-xml";
          document.querySelectorAll(selectors).forEach(function(el) {
            hljs.highlightBlock(el);
          });
        });
      </script></body>
</html>
